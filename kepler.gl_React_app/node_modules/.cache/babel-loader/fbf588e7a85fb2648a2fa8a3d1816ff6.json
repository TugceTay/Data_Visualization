{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.noOp = noOp;\nexports.getStyle = getStyle;\nexports.RENDER_TYPE_STYLES = exports.DEFAULT_STROKE_DASH_ARRAY = exports.STATE_STYLES_STROKE_WIDTH = exports.DEFAULT_STATE_STYLE_OPACITY = exports.STATE_STYLES_FILL = exports.DEFAULT_STATE_STYLE_FILL = exports.STATE_STYLES_STROKE = exports.DEFAULT_STATE_STYLE_STROKE = exports.DEFAULT_RADIUS = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _reactMapGlDraw = require(\"react-map-gl-draw\");\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\nvar _constants = require(\"./constants\");\nvar _STATE_STYLES_STROKE, _STATE_STYLES_FILL, _RENDER_TYPE_STYLES;\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar DEFAULT_RADIUS = 5;\nexports.DEFAULT_RADIUS = DEFAULT_RADIUS;\nvar DEFAULT_STATE_STYLE_STROKE = _constants.COLORS.PRIMARY;\nexports.DEFAULT_STATE_STYLE_STROKE = DEFAULT_STATE_STYLE_STROKE;\nvar STATE_STYLES_STROKE = (_STATE_STYLES_STROKE = {}, (0, _defineProperty2[\"default\"])(_STATE_STYLES_STROKE, _reactMapGlDraw.RenderStates.INACTIVE, '#26B5F2'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_STROKE, _reactMapGlDraw.RenderStates.UNCOMMITTED, '#a9a9a9'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_STROKE, _reactMapGlDraw.RenderStates.CLOSING, '#a9a9a9'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_STROKE, _reactMapGlDraw.RenderStates.SELECTED, '#26B5F2'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_STROKE, _reactMapGlDraw.RenderStates.HOVERED, '#26B5F2'), _STATE_STYLES_STROKE);\nexports.STATE_STYLES_STROKE = STATE_STYLES_STROKE;\nvar DEFAULT_STATE_STYLE_FILL = '#000';\nexports.DEFAULT_STATE_STYLE_FILL = DEFAULT_STATE_STYLE_FILL;\nvar STATE_STYLES_FILL = (_STATE_STYLES_FILL = {}, (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.INACTIVE, '#333333'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.HOVERED, '#7ac943'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.SELECTED, '#ffff00'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.UNCOMMITTED, '#a9a9a9'), (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.CLOSING, '#a9a9a9'), _STATE_STYLES_FILL);\nexports.STATE_STYLES_FILL = STATE_STYLES_FILL;\nvar DEFAULT_STATE_STYLE_OPACITY = 0.1;\nexports.DEFAULT_STATE_STYLE_OPACITY = DEFAULT_STATE_STYLE_OPACITY;\nvar STATE_STYLES_STROKE_WIDTH = 2;\nexports.STATE_STYLES_STROKE_WIDTH = STATE_STYLES_STROKE_WIDTH;\nvar DEFAULT_STROKE_DASH_ARRAY = '4,2';\nexports.DEFAULT_STROKE_DASH_ARRAY = DEFAULT_STROKE_DASH_ARRAY;\nvar RENDER_TYPE_STYLES = (_RENDER_TYPE_STYLES = {}, (0, _defineProperty2[\"default\"])(_RENDER_TYPE_STYLES, _reactMapGlDraw.RenderTypes.POINT, function () {\n  return {\n    r: DEFAULT_RADIUS\n  };\n}), (0, _defineProperty2[\"default\"])(_RENDER_TYPE_STYLES, _reactMapGlDraw.RenderTypes.LINE_STRING, function () {\n  return {\n    fill: 'none'\n  };\n}), _RENDER_TYPE_STYLES);\nexports.RENDER_TYPE_STYLES = RENDER_TYPE_STYLES;\nfunction noOp() {}\nfunction getStyle(_ref) {\n  var feature = _ref.feature,\n    state = _ref.state;\n  var isVisible = (0, _lodash[\"default\"])(feature, ['properties', 'isVisible'], true);\n  var style = _objectSpread({\n    stroke: STATE_STYLES_STROKE[state] || DEFAULT_STATE_STYLE_STROKE,\n    strokeWidth: isVisible ? STATE_STYLES_STROKE_WIDTH : 0,\n    fill: STATE_STYLES_FILL[state] || DEFAULT_STATE_STYLE_FILL,\n    fillOpacity: DEFAULT_STATE_STYLE_OPACITY\n  }, state !== _reactMapGlDraw.RenderStates.SELECTED ? {\n    strokeDasharray: DEFAULT_STROKE_DASH_ARRAY\n  } : null);\n  var renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n  return _objectSpread(_objectSpread({}, style), (RENDER_TYPE_STYLES[renderType] || noOp)());\n}","map":{"version":3,"sources":["../../../src/components/editor/feature-styles.js"],"names":["DEFAULT_RADIUS","DEFAULT_STATE_STYLE_STROKE","COLORS","PRIMARY","STATE_STYLES_STROKE","RenderStates","INACTIVE","UNCOMMITTED","CLOSING","SELECTED","HOVERED","DEFAULT_STATE_STYLE_FILL","STATE_STYLES_FILL","DEFAULT_STATE_STYLE_OPACITY","STATE_STYLES_STROKE_WIDTH","DEFAULT_STROKE_DASH_ARRAY","RENDER_TYPE_STYLES","RenderTypes","POINT","r","LINE_STRING","fill","noOp","getStyle","feature","state","isVisible","style","stroke","strokeWidth","fillOpacity","strokeDasharray","renderType","properties"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {RenderStates, RenderTypes} from 'react-map-gl-draw';\nimport get from 'lodash.get';\nimport {COLORS} from './constants';\n\nexport const DEFAULT_RADIUS = 5;\nexport const DEFAULT_STATE_STYLE_STROKE = COLORS.PRIMARY;\n\nexport const STATE_STYLES_STROKE = {\n  [RenderStates.INACTIVE]: '#26B5F2',\n  [RenderStates.UNCOMMITTED]: '#a9a9a9',\n  [RenderStates.CLOSING]: '#a9a9a9',\n  [RenderStates.SELECTED]: '#26B5F2',\n  [RenderStates.HOVERED]: '#26B5F2'\n};\n\nexport const DEFAULT_STATE_STYLE_FILL = '#000';\n\nexport const STATE_STYLES_FILL = {\n  [RenderStates.INACTIVE]: '#333333',\n  [RenderStates.HOVERED]: '#7ac943',\n  [RenderStates.SELECTED]: '#ffff00',\n  [RenderStates.UNCOMMITTED]: '#a9a9a9',\n  [RenderStates.CLOSING]: '#a9a9a9'\n};\n\nexport const DEFAULT_STATE_STYLE_OPACITY = 0.1;\n\nexport const STATE_STYLES_STROKE_WIDTH = 2;\n\nexport const DEFAULT_STROKE_DASH_ARRAY = '4,2';\n\nexport const RENDER_TYPE_STYLES = {\n  [RenderTypes.POINT]: () => ({r: DEFAULT_RADIUS}),\n  [RenderTypes.LINE_STRING]: () => ({fill: 'none'})\n};\n\nexport function noOp() {}\n\nexport function getStyle({feature, state}) {\n  const isVisible = get(feature, ['properties', 'isVisible'], true);\n  const style = {\n    stroke: STATE_STYLES_STROKE[state] || DEFAULT_STATE_STYLE_STROKE,\n    strokeWidth: isVisible ? STATE_STYLES_STROKE_WIDTH : 0,\n    fill: STATE_STYLES_FILL[state] || DEFAULT_STATE_STYLE_FILL,\n    fillOpacity: DEFAULT_STATE_STYLE_OPACITY,\n    ...(state !== RenderStates.SELECTED ? {strokeDasharray: DEFAULT_STROKE_DASH_ARRAY} : null)\n  };\n\n  const renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n\n  return {\n    ...style,\n    ...(RENDER_TYPE_STYLES[renderType] || noOp)()\n  };\n}\n"]},"metadata":{},"sourceType":"script"}