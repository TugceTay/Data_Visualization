{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport { PointLight } from './point-light';\nimport { getUniformsFromViewport } from '../../shaderlib/project/viewport-uniforms';\nvar CameraLight = function (_PointLight) {\n  _inherits(CameraLight, _PointLight);\n  function CameraLight() {\n    _classCallCheck(this, CameraLight);\n    return _possibleConstructorReturn(this, _getPrototypeOf(CameraLight).apply(this, arguments));\n  }\n  _createClass(CameraLight, [{\n    key: \"getProjectedLight\",\n    value: function getProjectedLight(_ref) {\n      var layer = _ref.layer;\n      var projectedLight = this.projectedLight;\n      var viewport = layer.context.viewport;\n      var _layer$props = layer.props,\n        coordinateSystem = _layer$props.coordinateSystem,\n        coordinateOrigin = _layer$props.coordinateOrigin,\n        modelMatrix = _layer$props.modelMatrix;\n      var _getUniformsFromViewp = getUniformsFromViewport({\n          viewport: viewport,\n          modelMatrix: modelMatrix,\n          coordinateSystem: coordinateSystem,\n          coordinateOrigin: coordinateOrigin\n        }),\n        project_uCameraPosition = _getUniformsFromViewp.project_uCameraPosition;\n      projectedLight.color = this.color;\n      projectedLight.intensity = this.intensity;\n      projectedLight.position = project_uCameraPosition;\n      return projectedLight;\n    }\n  }]);\n  return CameraLight;\n}(PointLight);\nexport { CameraLight as default };","map":{"version":3,"sources":["../../../../src/effects/lighting/camera-light.js"],"names":["PointLight","getUniformsFromViewport","CameraLight","layer","projectedLight","viewport","context","coordinateSystem","coordinateOrigin","modelMatrix","props","project_uCameraPosition","color","intensity","position"],"mappings":";;;;;AAAA,SAAQA,UAAR,QAAyB,eAAzB;AACA,SAAQC,uBAAR,QAAsC,2CAAtC;IAEqBC,W;;;;;;;;4CACQ;MAAA,IAARC,KAAQ,GAAA,IAAA,CAARA,KAAQ;MAAA,IAClBC,cADkB,GACA,IADA,CAClBA,cADkB;MAEzB,IAAMC,QAAQ,GAAGF,KAAK,CAACG,OAANH,CAAcE,QAA/B;MAFyB,IAAA,YAAA,GAGiCF,KAAK,CAACO,KAHvC;QAGlBH,gBAHkB,GAAA,YAAA,CAGlBA,gBAHkB;QAGAC,gBAHA,GAAA,YAAA,CAGAA,gBAHA;QAGkBC,WAHlB,GAAA,YAAA,CAGkBA,WAHlB;MAAA,IAAA,qBAAA,GAISR,uBAAuB,CAAC;UACxDI,QAAQ,EAARA,QADwD;UAExDI,WAAW,EAAXA,WAFwD;UAGxDF,gBAAgB,EAAhBA,gBAHwD;UAIxDC,gBAAgB,EAAhBA;QAJwD,CAAD,CAJhC;QAIlBG,uBAJkB,GAAA,qBAAA,CAIlBA,uBAJkB;MAUzBP,cAAc,CAACQ,KAAfR,GAAuB,IAAA,CAAKQ,KAA5BR;MACAA,cAAc,CAACS,SAAfT,GAA2B,IAAA,CAAKS,SAAhCT;MACAA,cAAc,CAACU,QAAfV,GAA0BO,uBAA1BP;MACA,OAAOA,cAAP;IACD;;;EAfsCJ,U;SAApBE,W","sourcesContent":["import {PointLight} from './point-light';\nimport {getUniformsFromViewport} from '../../shaderlib/project/viewport-uniforms';\n\nexport default class CameraLight extends PointLight {\n  getProjectedLight({layer}) {\n    const {projectedLight} = this;\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin, modelMatrix} = layer.props;\n    const {project_uCameraPosition} = getUniformsFromViewport({\n      viewport,\n      modelMatrix,\n      coordinateSystem,\n      coordinateOrigin\n    });\n    projectedLight.color = this.color;\n    projectedLight.intensity = this.intensity;\n    projectedLight.position = project_uCameraPosition;\n    return projectedLight;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}