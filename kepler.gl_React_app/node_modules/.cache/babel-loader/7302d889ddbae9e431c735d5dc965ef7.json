{"ast":null,"code":"export function resolveUrl(url, options) {\n  var absolute = url.startsWith('data:') || url.startsWith('http:') || url.startsWith('https:');\n  if (absolute) {\n    return url;\n  }\n  var baseUrl = options.baseUri || options.uri;\n  if (!baseUrl) {\n    throw new Error(\"'baseUri' must be provided to resolve relative url \".concat(url));\n  }\n  return baseUrl.substr(0, baseUrl.lastIndexOf('/') + 1) + url;\n}","map":{"version":3,"sources":["../../../../src/lib/gltf-utils/resolve-url.js"],"names":["resolveUrl","url","options","absolute","startsWith","baseUrl","baseUri","uri","Error","substr","lastIndexOf"],"mappings":"AAEA,OAAO,SAASA,UAAT,CAAoBC,GAApB,EAAyBC,OAAzB,EAAkC;EAEvC,IAAMC,QAAQ,GAAGF,GAAG,CAACG,UAAJH,CAAe,OAAfA,CAAAA,IAA2BA,GAAG,CAACG,UAAJH,CAAe,OAAfA,CAA3BA,IAAsDA,GAAG,CAACG,UAAJH,CAAe,QAAfA,CAAvE;EACA,IAAIE,QAAJ,EAAc;IACZ,OAAOF,GAAP;EACD;EACD,IAAMI,OAAO,GAAGH,OAAO,CAACI,OAARJ,IAAmBA,OAAO,CAACK,GAA3C;EACA,IAAI,CAACF,OAAL,EAAc;IACZ,MAAM,IAAIG,KAAJ,CAAA,qDAAA,CAAA,MAAA,CAAgEP,GAAhE,CAAA,CAAN;EACD;EACD,OAAOI,OAAO,CAACI,MAARJ,CAAe,CAAfA,EAAkBA,OAAO,CAACK,WAARL,CAAoB,GAApBA,CAAAA,GAA2B,CAA7CA,CAAAA,GAAkDJ,GAAzD;AACD","sourcesContent":["// Resolves a relative url against a baseUrl\n// If url is absolute, return it unchanged\nexport function resolveUrl(url, options) {\n  // TODO: Use better logic to handle all protocols plus not delay on data\n  const absolute = url.startsWith('data:') || url.startsWith('http:') || url.startsWith('https:');\n  if (absolute) {\n    return url;\n  }\n  const baseUrl = options.baseUri || options.uri;\n  if (!baseUrl) {\n    throw new Error(`'baseUri' must be provided to resolve relative url ${url}`);\n  }\n  return baseUrl.substr(0, baseUrl.lastIndexOf('/') + 1) + url;\n}\n"]},"metadata":{},"sourceType":"module"}