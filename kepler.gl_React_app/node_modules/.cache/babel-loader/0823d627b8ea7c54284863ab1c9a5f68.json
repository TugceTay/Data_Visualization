{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.connect = void 0;\nvar _reactRedux = require(\"react-redux\");\nvar _withLocalSelector = _interopRequireDefault(require(\"./with-local-selector\"));\n\n// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nvar defaultMapStateToProps = function defaultMapStateToProps(state, _, __) {\n  return state;\n};\nvar defaultMapDispatchToProps = function defaultMapDispatchToProps() {\n  return function (dispatch, _, __) {\n    return {\n      dispatch: dispatch\n    };\n  };\n};\nvar connect = function connect() {\n  var mapStateToProps = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultMapStateToProps;\n  var makeMapDispatchToProps = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultMapDispatchToProps;\n  var reduxMergeProps = arguments.length > 2 ? arguments[2] : undefined;\n  var options = arguments.length > 3 ? arguments[3] : undefined;\n  return function (BaseComponent) {\n    var mapDispatchToProps = makeMapDispatchToProps();\n    var reduxMapState = function reduxMapState(state, props) {\n      return mapStateToProps(props.selector(state), props, state);\n    };\n    var reduxMapDispatch = function reduxMapDispatch(dispatch, props) {\n      return mapDispatchToProps(props.dispatch, props, dispatch);\n    };\n    var ReduxComponent = (0, _reactRedux.connect)(reduxMapState, reduxMapDispatch, reduxMergeProps, options)(BaseComponent); // save selector to context so it can be accessed by its children\n\n    return (0, _withLocalSelector[\"default\"])(ReduxComponent);\n  };\n};\nexports.connect = connect;","map":{"version":3,"sources":["../../src/connect/keplergl-connect.js"],"names":["defaultMapStateToProps","state","_","__","defaultMapDispatchToProps","dispatch","connect","mapStateToProps","makeMapDispatchToProps","reduxMergeProps","options","mapDispatchToProps","reduxMapState","props","selector","reduxMapDispatch","ReduxComponent","BaseComponent"],"mappings":";;;;;;;AAoBA,IAAA,WAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AACA,IAAA,kBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,uBAAA,CAAA,CAAA;;AArBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA,IAAMA,sBAAsB,GAAG,SAAzBA,sBAAyB,CAACC,KAAD,EAAQC,CAAR,EAAWC,EAAX,EAAA;EAAA,OAAkBF,KAAlB;AAAA,CAA/B;AACA,IAAMG,yBAAyB,GAAG,SAA5BA,yBAA4B,GAAA;EAAA,OAAM,UAACC,QAAD,EAAWH,CAAX,EAAcC,EAAd,EAAA;IAAA,OAAsB;MAACE,QAAQ,EAARA;IAAD,CAAtB;EAAA,CAAN;AAAA,CAAlC;AAEO,IAAMC,OAAO,GAAG,SAAVA,OAAU,GAAA;EAAA,IACrBC,eADqB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GACHP,sBADG;EAAA,IAErBQ,sBAFqB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAEIJ,yBAFJ;EAAA,IAGrBK,eAHqB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,SAAA;EAAA,IAIrBC,OAJqB,GAAA,SAAA,CAAA,MAAA,GAAA,CAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,SAAA;EAAA,OAKlB,UAAA,aAAa,EAAI;IACpB,IAAMC,kBAAkB,GAAGH,sBAAsB,EAAjD;IACA,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAACX,KAAD,EAAQY,KAAR,EAAA;MAAA,OAAkBN,eAAe,CAACM,KAAK,CAACC,QAAND,CAAeZ,KAAfY,CAAD,EAAwBA,KAAxB,EAA+BZ,KAA/B,CAAjC;IAAA,CAAtB;IAEA,IAAMc,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACV,QAAD,EAAWQ,KAAX,EAAA;MAAA,OAAqBF,kBAAkB,CAACE,KAAK,CAACR,QAAP,EAAiBQ,KAAjB,EAAwBR,QAAxB,CAAvC;IAAA,CAAzB;IAEA,IAAMW,cAAc,GAAG,CAAA,CAAA,EAAA,WAAA,CAAA,OAAA,EACrBJ,aADqB,EAErBG,gBAFqB,EAGrBN,eAHqB,EAIrBC,OAJqB,CAAA,CAKrBO,aALqB,CAAvB,CANoB,CAapB;;IACA,OAAO,CAAA,CAAA,EAAA,kBAAA,CAAA,SAAA,CAAA,EAAkBD,cAAlB,CAAP;EACD,CApBsB;AAAA,CAAhB","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {connect as reduxConnect} from 'react-redux';\nimport withLocalSelector from './with-local-selector';\n\nconst defaultMapStateToProps = (state, _, __) => state;\nconst defaultMapDispatchToProps = () => (dispatch, _, __) => ({dispatch});\n\nexport const connect = (\n  mapStateToProps = defaultMapStateToProps,\n  makeMapDispatchToProps = defaultMapDispatchToProps,\n  reduxMergeProps,\n  options\n) => BaseComponent => {\n  const mapDispatchToProps = makeMapDispatchToProps();\n  const reduxMapState = (state, props) => mapStateToProps(props.selector(state), props, state);\n\n  const reduxMapDispatch = (dispatch, props) => mapDispatchToProps(props.dispatch, props, dispatch);\n\n  const ReduxComponent = reduxConnect(\n    reduxMapState,\n    reduxMapDispatch,\n    reduxMergeProps,\n    options\n  )(BaseComponent);\n\n  // save selector to context so it can be accessed by its children\n  return withLocalSelector(ReduxComponent);\n};\n"]},"metadata":{},"sourceType":"script"}