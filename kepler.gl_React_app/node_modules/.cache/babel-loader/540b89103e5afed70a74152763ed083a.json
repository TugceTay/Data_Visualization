{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _switch = _interopRequireDefault(require(\"../../common/switch\"));\nvar _brushConfig = _interopRequireDefault(require(\"./brush-config\"));\nvar _tooltipConfig = _interopRequireDefault(require(\"./tooltip-config\"));\nvar _styledComponents2 = require(\"../../common/styled-components\");\nvar _localization = require(\"../../../localization\");\nvar _templateObject;\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar StyledInteractionPanel = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  padding-bottom: 6px;\\n\"])));\nInteractionPanelFactory.deps = [_tooltipConfig[\"default\"], _brushConfig[\"default\"]];\nfunction InteractionPanelFactory(TooltipConfig, BrushConfig) {\n  var _class, _temp;\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    (0, _inherits2[\"default\"])(InteractionPanel, _Component);\n    var _super = _createSuper(InteractionPanel);\n    function InteractionPanel() {\n      var _this;\n      (0, _classCallCheck2[\"default\"])(this, InteractionPanel);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n        isConfigActive: false\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_updateConfig\", function (newProp) {\n        _this.props.onConfigChange(_objectSpread(_objectSpread({}, _this.props.config), newProp));\n      });\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"_enableConfig\", function () {\n        _this.setState({\n          isConfigActive: !_this.state.isConfigActive\n        });\n      });\n      return _this;\n    }\n    (0, _createClass2[\"default\"])(InteractionPanel, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        var _this$props = this.props,\n          config = _this$props.config,\n          datasets = _this$props.datasets;\n        var onChange = function onChange(newConfig) {\n          return _this2._updateConfig({\n            config: newConfig\n          });\n        };\n        var template = null;\n        switch (config.id) {\n          case 'tooltip':\n            template = /*#__PURE__*/_react[\"default\"].createElement(TooltipConfig, {\n              datasets: datasets,\n              config: config.config,\n              onChange: onChange\n            });\n            break;\n          case 'brush':\n            template = /*#__PURE__*/_react[\"default\"].createElement(BrushConfig, {\n              config: config.config,\n              onChange: onChange\n            });\n            break;\n          default:\n            break;\n        }\n        return /*#__PURE__*/_react[\"default\"].createElement(StyledInteractionPanel, {\n          className: \"interaction-panel\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.StyledPanelHeader, {\n          className: \"interaction-panel__header\",\n          onClick: this._enableConfig\n        }, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.PanelHeaderContent, {\n          className: \"interaction-panel__header__content\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: \"interaction-panel__header__icon icon\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(config.iconComponent, {\n          height: \"16px\"\n        })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: \"interaction-panel__header__title\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.PanelHeaderTitle, null, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n          id: config.label\n        })))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n          className: \"interaction-panel__header__actions\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(_switch[\"default\"], {\n          checked: config.enabled,\n          id: \"\".concat(config.id, \"-toggle\"),\n          onChange: function onChange() {\n            return _this2._updateConfig({\n              enabled: !config.enabled\n            });\n          },\n          secondary: true\n        }))), config.enabled && template && /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.PanelContent, {\n          className: \"interaction-panel__content\"\n        }, template));\n      }\n    }]);\n    return InteractionPanel;\n  }(_react.Component), (0, _defineProperty2[\"default\"])(_class, \"propTypes\", {\n    datasets: _propTypes[\"default\"].object.isRequired,\n    config: _propTypes[\"default\"].object.isRequired,\n    onConfigChange: _propTypes[\"default\"].func.isRequired\n  }), _temp;\n}\nvar _default = InteractionPanelFactory;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../../../../src/components/side-panel/interaction-panel/interaction-panel.js"],"names":["StyledInteractionPanel","styled","div","InteractionPanelFactory","deps","TooltipConfigFactory","BrushConfigFactory","TooltipConfig","BrushConfig","Component","datasets","PropTypes","object","isRequired","config","onConfigChange","func","isConfigActive","props","newProp","setState","state","onChange","_updateConfig","newConfig","template","id","_enableConfig","label","enabled"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport Switch from 'components/common/switch';\n\nimport BrushConfigFactory from './brush-config';\nimport TooltipConfigFactory from './tooltip-config';\n\nimport {\n  StyledPanelHeader,\n  PanelHeaderTitle,\n  PanelHeaderContent,\n  PanelContent\n} from 'components/common/styled-components';\nimport {FormattedMessage} from 'localization';\n\nconst StyledInteractionPanel = styled.div`\n  padding-bottom: 6px;\n`;\n\nInteractionPanelFactory.deps = [TooltipConfigFactory, BrushConfigFactory];\n\nfunction InteractionPanelFactory(TooltipConfig, BrushConfig) {\n  return class InteractionPanel extends Component {\n    static propTypes = {\n      datasets: PropTypes.object.isRequired,\n      config: PropTypes.object.isRequired,\n      onConfigChange: PropTypes.func.isRequired\n    };\n\n    state = {isConfigActive: false};\n\n    _updateConfig = newProp => {\n      this.props.onConfigChange({\n        ...this.props.config,\n        ...newProp\n      });\n    };\n\n    _enableConfig = () => {\n      this.setState({isConfigActive: !this.state.isConfigActive});\n    };\n\n    render() {\n      const {config, datasets} = this.props;\n      const onChange = newConfig => this._updateConfig({config: newConfig});\n      let template = null;\n\n      switch (config.id) {\n        case 'tooltip':\n          template = (\n            <TooltipConfig datasets={datasets} config={config.config} onChange={onChange} />\n          );\n          break;\n\n        case 'brush':\n          template = <BrushConfig config={config.config} onChange={onChange} />;\n          break;\n\n        default:\n          break;\n      }\n\n      return (\n        <StyledInteractionPanel className=\"interaction-panel\">\n          <StyledPanelHeader className=\"interaction-panel__header\" onClick={this._enableConfig}>\n            <PanelHeaderContent className=\"interaction-panel__header__content\">\n              <div className=\"interaction-panel__header__icon icon\">\n                <config.iconComponent height=\"16px\" />\n              </div>\n              <div className=\"interaction-panel__header__title\">\n                <PanelHeaderTitle>\n                  <FormattedMessage id={config.label} />\n                </PanelHeaderTitle>\n              </div>\n            </PanelHeaderContent>\n            <div className=\"interaction-panel__header__actions\">\n              <Switch\n                checked={config.enabled}\n                id={`${config.id}-toggle`}\n                onChange={() => this._updateConfig({enabled: !config.enabled})}\n                secondary\n              />\n            </div>\n          </StyledPanelHeader>\n          {config.enabled && template && (\n            <PanelContent className=\"interaction-panel__content\">{template}</PanelContent>\n          )}\n        </StyledInteractionPanel>\n      );\n    }\n  };\n}\n\nexport default InteractionPanelFactory;\n"]},"metadata":{},"sourceType":"script"}