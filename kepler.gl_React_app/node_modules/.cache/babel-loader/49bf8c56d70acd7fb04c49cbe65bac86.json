{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getStyle = getStyle;\nexports.getEditHandleShape = getEditHandleShape;\nexports.DEFAULT_RADIUS = exports.DEFAULT_STATE_STYLE_OPACITY = exports.RENDER_TYPE_STYLES = exports.STATE_STYLES_FILL = exports.DEFAULT_STATE_STYLE_FILL = exports.STATE_STYLES_STROKE = exports.DEFAULT_STATE_STYLE_STROKE = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _reactMapGlDraw = require(\"react-map-gl-draw\");\nvar _constants = require(\"./constants\");\nvar _lodash = _interopRequireDefault(require(\"lodash.get\"));\nvar _STATE_STYLES_STROKE, _STATE_STYLES_FILL, _RENDER_TYPE_STYLES;\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar DEFAULT_EDIT_HANDLE_SHAPE = 'circle';\nvar rectStyle = {\n  x: -6,\n  y: -6,\n  height: 12,\n  width: 12\n};\nvar DEFAULT_STATE_STYLE_STROKE = _constants.COLORS.PRIMARY;\nexports.DEFAULT_STATE_STYLE_STROKE = DEFAULT_STATE_STYLE_STROKE;\nvar STATE_STYLES_STROKE = (_STATE_STYLES_STROKE = {}, (0, _defineProperty2[\"default\"])(_STATE_STYLES_STROKE, _reactMapGlDraw.RenderStates.SELECTED, _constants.COLORS.PRIMARY), (0, _defineProperty2[\"default\"])(_STATE_STYLES_STROKE, _reactMapGlDraw.RenderStates.HOVERED, _constants.COLORS.SECONDARY), _STATE_STYLES_STROKE);\nexports.STATE_STYLES_STROKE = STATE_STYLES_STROKE;\nvar DEFAULT_STATE_STYLE_FILL = '#ffffff';\nexports.DEFAULT_STATE_STYLE_FILL = DEFAULT_STATE_STYLE_FILL;\nvar STATE_STYLES_FILL = (_STATE_STYLES_FILL = {}, (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.SELECTED, _constants.COLORS.SECONDARY), (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.HOVERED, _constants.COLORS.SECONDARY), (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.INACTIVE, _constants.COLORS.PRIMARY), (0, _defineProperty2[\"default\"])(_STATE_STYLES_FILL, _reactMapGlDraw.RenderStates.UNCOMMITTED, _constants.COLORS.PRIMARY), _STATE_STYLES_FILL);\nexports.STATE_STYLES_FILL = STATE_STYLES_FILL;\nvar STATE_STYLES_STROKE_WIDTH = 1;\nvar RENDER_TYPE_STYLES = (_RENDER_TYPE_STYLES = {}, (0, _defineProperty2[\"default\"])(_RENDER_TYPE_STYLES, _reactMapGlDraw.RenderTypes.POINT, function (state) {\n  return {\n    fill: STATE_STYLES_FILL[state],\n    stroke: state === _reactMapGlDraw.RenderStates.SELECTED ? _constants.COLORS.PRIMARY : DEFAULT_STATE_STYLE_STROKE\n  };\n}), (0, _defineProperty2[\"default\"])(_RENDER_TYPE_STYLES, _reactMapGlDraw.RenderTypes.LINE_STRING, function () {\n  return rectStyle;\n}), (0, _defineProperty2[\"default\"])(_RENDER_TYPE_STYLES, _reactMapGlDraw.RenderTypes.RECTANGLE, function () {\n  return rectStyle;\n}), (0, _defineProperty2[\"default\"])(_RENDER_TYPE_STYLES, _reactMapGlDraw.RenderTypes.POLYGON, function () {\n  return rectStyle;\n}), _RENDER_TYPE_STYLES);\nexports.RENDER_TYPE_STYLES = RENDER_TYPE_STYLES;\nvar DEFAULT_STATE_STYLE_OPACITY = 0;\nexports.DEFAULT_STATE_STYLE_OPACITY = DEFAULT_STATE_STYLE_OPACITY;\nvar DEFAULT_RADIUS = 5;\nexports.DEFAULT_RADIUS = DEFAULT_RADIUS;\nfunction noOp() {}\nfunction getStyle(_ref) {\n  var feature = _ref.feature,\n    state = _ref.state;\n  var isVisible = (0, _lodash[\"default\"])(feature, ['properties', 'isVisible'], true);\n  var style = {\n    stroke: STATE_STYLES_STROKE[state] || DEFAULT_STATE_STYLE_STROKE,\n    strokeWidth: isVisible ? STATE_STYLES_STROKE_WIDTH : 0,\n    fill: DEFAULT_STATE_STYLE_FILL,\n    fillOpacity: DEFAULT_STATE_STYLE_OPACITY,\n    r: DEFAULT_RADIUS\n  };\n  var renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n  return _objectSpread(_objectSpread({}, style), (RENDER_TYPE_STYLES[renderType] || noOp)(state));\n}\nfunction getEditHandleShape() {\n  return DEFAULT_EDIT_HANDLE_SHAPE;\n}","map":{"version":3,"sources":["../../../src/components/editor/handle-style.js"],"names":["DEFAULT_EDIT_HANDLE_SHAPE","rectStyle","x","y","height","width","DEFAULT_STATE_STYLE_STROKE","COLORS","PRIMARY","STATE_STYLES_STROKE","RenderStates","SELECTED","HOVERED","SECONDARY","DEFAULT_STATE_STYLE_FILL","STATE_STYLES_FILL","INACTIVE","UNCOMMITTED","STATE_STYLES_STROKE_WIDTH","RENDER_TYPE_STYLES","RenderTypes","POINT","fill","state","stroke","LINE_STRING","RECTANGLE","POLYGON","DEFAULT_STATE_STYLE_OPACITY","DEFAULT_RADIUS","noOp","getStyle","feature","isVisible","style","strokeWidth","fillOpacity","r","renderType","properties","getEditHandleShape"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {RenderStates, RenderTypes} from 'react-map-gl-draw';\nimport {COLORS} from './constants';\nimport get from 'lodash.get';\n\nconst DEFAULT_EDIT_HANDLE_SHAPE = 'circle';\n\nconst rectStyle = {\n  x: -6,\n  y: -6,\n  height: 12,\n  width: 12\n};\n\nexport const DEFAULT_STATE_STYLE_STROKE = COLORS.PRIMARY;\n\nexport const STATE_STYLES_STROKE = {\n  [RenderStates.SELECTED]: COLORS.PRIMARY,\n  [RenderStates.HOVERED]: COLORS.SECONDARY\n};\n\nexport const DEFAULT_STATE_STYLE_FILL = '#ffffff';\n\nexport const STATE_STYLES_FILL = {\n  [RenderStates.SELECTED]: COLORS.SECONDARY,\n  [RenderStates.HOVERED]: COLORS.SECONDARY,\n  [RenderStates.INACTIVE]: COLORS.PRIMARY,\n  [RenderStates.UNCOMMITTED]: COLORS.PRIMARY\n};\n\nconst STATE_STYLES_STROKE_WIDTH = 1;\n\nexport const RENDER_TYPE_STYLES = {\n  [RenderTypes.POINT]: state => ({\n    fill: STATE_STYLES_FILL[state],\n    stroke: state === RenderStates.SELECTED ? COLORS.PRIMARY : DEFAULT_STATE_STYLE_STROKE\n  }),\n  [RenderTypes.LINE_STRING]: () => rectStyle,\n  [RenderTypes.RECTANGLE]: () => rectStyle,\n  [RenderTypes.POLYGON]: () => rectStyle\n};\n\nexport const DEFAULT_STATE_STYLE_OPACITY = 0;\n\nexport const DEFAULT_RADIUS = 5;\n\nfunction noOp() {}\n\nexport function getStyle({feature, state}) {\n  const isVisible = get(feature, ['properties', 'isVisible'], true);\n\n  const style = {\n    stroke: STATE_STYLES_STROKE[state] || DEFAULT_STATE_STYLE_STROKE,\n    strokeWidth: isVisible ? STATE_STYLES_STROKE_WIDTH : 0,\n    fill: DEFAULT_STATE_STYLE_FILL,\n    fillOpacity: DEFAULT_STATE_STYLE_OPACITY,\n    r: DEFAULT_RADIUS\n  };\n\n  const renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n\n  return {\n    ...style,\n    ...(RENDER_TYPE_STYLES[renderType] || noOp)(state)\n  };\n}\n\nexport function getEditHandleShape() {\n  return DEFAULT_EDIT_HANDLE_SHAPE;\n}\n"]},"metadata":{},"sourceType":"script"}