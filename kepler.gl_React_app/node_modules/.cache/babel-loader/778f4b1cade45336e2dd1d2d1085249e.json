{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = TimeRangeSliderFactory;\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _lodash = _interopRequireDefault(require(\"lodash.throttle\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _rangeSlider = _interopRequireDefault(require(\"./range-slider\"));\nvar _timeSliderMarker = _interopRequireDefault(require(\"./time-slider-marker\"));\nvar _playbackControls = _interopRequireDefault(require(\"./animation-control/playback-controls\"));\nvar _timeRangeSliderTimeTitle = _interopRequireDefault(require(\"./time-range-slider-time-title\"));\nvar _templateObject;\nvar animationControlWidth = 176;\nvar StyledSliderContainer = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  align-items: flex-end;\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: space-between;\\n  padding-left: \", \"px;\\n\\n  .timeline-container .kg-slider {\\n    display: none;\\n  }\\n\\n  .playback-controls {\\n    margin-left: 22px;\\n  }\\n\"])), function (props) {\n  return props.isEnlarged ? 24 : 0;\n});\nTimeRangeSliderFactory.deps = [_playbackControls[\"default\"], _rangeSlider[\"default\"], _timeSliderMarker[\"default\"], _timeRangeSliderTimeTitle[\"default\"]];\nfunction TimeRangeSliderFactory(PlaybackControls, RangeSlider, TimeSliderMarker, TimeRangeSliderTimeTitle) {\n  var TimeRangeSlider = function TimeRangeSlider(props) {\n    var domain = props.domain,\n      value = props.value,\n      isEnlarged = props.isEnlarged,\n      hideTimeTitle = props.hideTimeTitle,\n      isAnimating = props.isAnimating,\n      resetAnimation = props.resetAnimation,\n      timeFormat = props.timeFormat,\n      timezone = props.timezone,\n      histogram = props.histogram,\n      plotType = props.plotType,\n      lineChart = props.lineChart,\n      step = props.step,\n      isAnimatable = props.isAnimatable,\n      speed = props.speed,\n      animationWindow = props.animationWindow,\n      updateAnimationSpeed = props.updateAnimationSpeed,\n      setFilterAnimationWindow = props.setFilterAnimationWindow,\n      toggleAnimation = props.toggleAnimation,\n      onChange = props.onChange;\n    var throttledOnchange = (0, _react.useMemo)(function () {\n      return (0, _lodash[\"default\"])(onChange, 20);\n    }, [onChange]);\n    return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"time-range-slider\"\n    }, !hideTimeTitle ? /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"time-range-slider__title\",\n      style: {\n        width: isEnlarged ? \"calc(100% - \".concat(animationControlWidth, \"px)\") : '100%'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(TimeRangeSliderTimeTitle, {\n      timeFormat: timeFormat,\n      timezone: timezone,\n      value: value,\n      isEnlarged: isEnlarged\n    })) : null, /*#__PURE__*/_react[\"default\"].createElement(StyledSliderContainer, {\n      className: \"time-range-slider__container\",\n      isEnlarged: isEnlarged\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"timeline-container\",\n      style: {\n        width: isEnlarged ? \"calc(100% - \".concat(animationControlWidth, \"px)\") : '100%'\n      }\n    }, /*#__PURE__*/_react[\"default\"].createElement(RangeSlider, {\n      range: domain,\n      value0: value[0],\n      value1: value[1],\n      histogram: histogram,\n      lineChart: lineChart,\n      plotType: plotType,\n      isEnlarged: isEnlarged,\n      showInput: false,\n      step: step,\n      onChange: throttledOnchange,\n      xAxis: TimeSliderMarker,\n      timezone: timezone,\n      timeFormat: timeFormat\n    })), isEnlarged ? /*#__PURE__*/_react[\"default\"].createElement(PlaybackControls, {\n      isAnimatable: isAnimatable,\n      width: animationControlWidth,\n      speed: speed,\n      animationWindow: animationWindow,\n      updateAnimationSpeed: updateAnimationSpeed,\n      setFilterAnimationWindow: setFilterAnimationWindow,\n      pauseAnimation: toggleAnimation,\n      resetAnimation: resetAnimation,\n      isAnimating: isAnimating,\n      startAnimation: toggleAnimation\n    }) : null));\n  };\n  TimeRangeSlider.propTypes = {\n    onChange: _propTypes[\"default\"].func.isRequired,\n    domain: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number),\n    value: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number).isRequired,\n    step: _propTypes[\"default\"].number.isRequired,\n    plotType: _propTypes[\"default\"].string,\n    histogram: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].any),\n    lineChart: _propTypes[\"default\"].object,\n    toggleAnimation: _propTypes[\"default\"].func.isRequired,\n    exportAnimation: _propTypes[\"default\"].func,\n    isAnimatable: _propTypes[\"default\"].bool,\n    isEnlarged: _propTypes[\"default\"].bool,\n    speed: _propTypes[\"default\"].number,\n    timeFormat: _propTypes[\"default\"].string,\n    timezone: _propTypes[\"default\"].string,\n    hideTimeTitle: _propTypes[\"default\"].bool\n  };\n  return /*#__PURE__*/_react[\"default\"].memo(TimeRangeSlider);\n}","map":{"version":3,"sources":["../../../src/components/common/time-range-slider.js"],"names":["animationControlWidth","StyledSliderContainer","styled","div","props","isEnlarged","TimeRangeSliderFactory","deps","PlaybackControlsFactory","RangeSliderFactory","TimeSliderMarkerFactory","TimeRangeSliderTimeTitleFactory","PlaybackControls","RangeSlider","TimeSliderMarker","TimeRangeSliderTimeTitle","TimeRangeSlider","domain","value","hideTimeTitle","isAnimating","resetAnimation","timeFormat","timezone","histogram","plotType","lineChart","step","isAnimatable","speed","animationWindow","updateAnimationSpeed","setFilterAnimationWindow","toggleAnimation","onChange","throttledOnchange","width","propTypes","PropTypes","func","isRequired","arrayOf","number","string","any","object","exportAnimation","bool","React","memo"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {useMemo} from 'react';\nimport PropTypes from 'prop-types';\nimport throttle from 'lodash.throttle';\nimport styled from 'styled-components';\n\nimport RangeSliderFactory from 'components/common/range-slider';\nimport TimeSliderMarkerFactory from 'components/common/time-slider-marker';\nimport PlaybackControlsFactory from 'components/common/animation-control/playback-controls';\nimport TimeRangeSliderTimeTitleFactory from 'components/common/time-range-slider-time-title';\n\nconst animationControlWidth = 176;\n\nconst StyledSliderContainer = styled.div`\n  align-items: flex-end;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  padding-left: ${props => (props.isEnlarged ? 24 : 0)}px;\n\n  .timeline-container .kg-slider {\n    display: none;\n  }\n\n  .playback-controls {\n    margin-left: 22px;\n  }\n`;\n\nTimeRangeSliderFactory.deps = [\n  PlaybackControlsFactory,\n  RangeSliderFactory,\n  TimeSliderMarkerFactory,\n  TimeRangeSliderTimeTitleFactory\n];\n\nexport default function TimeRangeSliderFactory(\n  PlaybackControls,\n  RangeSlider,\n  TimeSliderMarker,\n  TimeRangeSliderTimeTitle\n) {\n  const TimeRangeSlider = props => {\n    const {\n      domain,\n      value,\n      isEnlarged,\n      hideTimeTitle,\n      isAnimating,\n      resetAnimation,\n      timeFormat,\n      timezone,\n      histogram,\n      plotType,\n      lineChart,\n      step,\n      isAnimatable,\n      speed,\n      animationWindow,\n      updateAnimationSpeed,\n      setFilterAnimationWindow,\n      toggleAnimation,\n      onChange\n    } = props;\n    const throttledOnchange = useMemo(() => throttle(onChange, 20), [onChange]);\n    return (\n      <div className=\"time-range-slider\">\n        {!hideTimeTitle ? (\n          <div\n            className=\"time-range-slider__title\"\n            style={{\n              width: isEnlarged ? `calc(100% - ${animationControlWidth}px)` : '100%'\n            }}\n          >\n            <TimeRangeSliderTimeTitle\n              timeFormat={timeFormat}\n              timezone={timezone}\n              value={value}\n              isEnlarged={isEnlarged}\n            />\n          </div>\n        ) : null}\n        <StyledSliderContainer className=\"time-range-slider__container\" isEnlarged={isEnlarged}>\n          <div\n            className=\"timeline-container\"\n            style={{\n              width: isEnlarged ? `calc(100% - ${animationControlWidth}px)` : '100%'\n            }}\n          >\n            <RangeSlider\n              range={domain}\n              value0={value[0]}\n              value1={value[1]}\n              histogram={histogram}\n              lineChart={lineChart}\n              plotType={plotType}\n              isEnlarged={isEnlarged}\n              showInput={false}\n              step={step}\n              onChange={throttledOnchange}\n              xAxis={TimeSliderMarker}\n              timezone={timezone}\n              timeFormat={timeFormat}\n            />\n          </div>\n          {isEnlarged ? (\n            <PlaybackControls\n              isAnimatable={isAnimatable}\n              width={animationControlWidth}\n              speed={speed}\n              animationWindow={animationWindow}\n              updateAnimationSpeed={updateAnimationSpeed}\n              setFilterAnimationWindow={setFilterAnimationWindow}\n              pauseAnimation={toggleAnimation}\n              resetAnimation={resetAnimation}\n              isAnimating={isAnimating}\n              startAnimation={toggleAnimation}\n            />\n          ) : null}\n        </StyledSliderContainer>\n      </div>\n    );\n  };\n\n  TimeRangeSlider.propTypes = {\n    onChange: PropTypes.func.isRequired,\n    domain: PropTypes.arrayOf(PropTypes.number),\n    value: PropTypes.arrayOf(PropTypes.number).isRequired,\n    step: PropTypes.number.isRequired,\n    plotType: PropTypes.string,\n    histogram: PropTypes.arrayOf(PropTypes.any),\n    lineChart: PropTypes.object,\n    toggleAnimation: PropTypes.func.isRequired,\n    exportAnimation: PropTypes.func,\n    isAnimatable: PropTypes.bool,\n    isEnlarged: PropTypes.bool,\n    speed: PropTypes.number,\n    timeFormat: PropTypes.string,\n    timezone: PropTypes.string,\n    hideTimeTitle: PropTypes.bool\n  };\n\n  return React.memo(TimeRangeSlider);\n}\n"]},"metadata":{},"sourceType":"script"}