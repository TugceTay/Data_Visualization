{"ast":null,"code":"import { assert } from './assert';\nconst ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport const ERR_WEBGL = ERR_CONTEXT;\nexport const ERR_WEBGL2 = 'Requires WebGL2';\nexport function isWebGL(gl) {\n  if (typeof WebGLRenderingContext !== 'undefined' && gl instanceof WebGLRenderingContext) {\n    return true;\n  }\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n  return Boolean(gl && Number.isFinite(gl._version));\n}\nexport function isWebGL2(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n  return Boolean(gl && gl._version === 2);\n}\nexport function getWebGL2Context(gl) {\n  return isWebGL2(gl) ? gl : null;\n}\nexport function assertWebGLContext(gl) {\n  assert(isWebGL(gl), ERR_CONTEXT);\n  return gl;\n}\nexport function assertWebGL2Context(gl) {\n  assert(isWebGL2(gl), ERR_WEBGL2);\n  return gl;\n}","map":{"version":3,"sources":["../../../src/utils/webgl-checks.js"],"names":["assert","ERR_CONTEXT","ERR_WEBGL","ERR_WEBGL2","isWebGL","gl","WebGLRenderingContext","WebGL2RenderingContext","Boolean","Number","isFinite","_version","isWebGL2","getWebGL2Context","assertWebGLContext","assertWebGL2Context"],"mappings":"AAAA,SAAQA,MAAR,QAAqB,UAArB;AAEA,MAAMC,WAAW,GAAG,+BAApB;AACA,OAAO,MAAMC,SAAS,GAAGD,WAAlB;AACP,OAAO,MAAME,UAAU,GAAG,iBAAnB;AAEP,OAAO,SAASC,OAAT,CAAiBC,EAAjB,EAAqB;EAC1B,IAAI,OAAOC,qBAAP,KAAiC,WAAjC,IAAgDD,EAAE,YAAYC,qBAAlE,EAAyF;IACvF,OAAO,IAAP;EACD;EACD,IAAI,OAAOC,sBAAP,KAAkC,WAAlC,IAAiDF,EAAE,YAAYE,sBAAnE,EAA2F;IACzF,OAAO,IAAP;EACD;EAED,OAAOC,OAAO,CAACH,EAAE,IAAII,MAAM,CAACC,QAAPD,CAAgBJ,EAAE,CAACM,QAAnBF,CAAP,CAAd;AACD;AAED,OAAO,SAASG,QAAT,CAAkBP,EAAlB,EAAsB;EAC3B,IAAI,OAAOE,sBAAP,KAAkC,WAAlC,IAAiDF,EAAE,YAAYE,sBAAnE,EAA2F;IACzF,OAAO,IAAP;EACD;EAED,OAAOC,OAAO,CAACH,EAAE,IAAIA,EAAE,CAACM,QAAHN,KAAgB,CAAvB,CAAd;AACD;AAED,OAAO,SAASQ,gBAAT,CAA0BR,EAA1B,EAA8B;EACnC,OAAOO,QAAQ,CAACP,EAAD,CAARO,GAAeP,EAAfO,GAAoB,IAA3B;AACD;AAED,OAAO,SAASE,kBAAT,CAA4BT,EAA5B,EAAgC;EACrCL,MAAM,CAACI,OAAO,CAACC,EAAD,CAAR,EAAcJ,WAAd,CAAND;EACA,OAAOK,EAAP;AACD;AAED,OAAO,SAASU,mBAAT,CAA6BV,EAA7B,EAAiC;EACtCL,MAAM,CAACY,QAAQ,CAACP,EAAD,CAAT,EAAeF,UAAf,CAANH;EACA,OAAOK,EAAP;AACD","sourcesContent":["import {assert} from './assert';\n\nconst ERR_CONTEXT = 'Invalid WebGLRenderingContext';\nexport const ERR_WEBGL = ERR_CONTEXT;\nexport const ERR_WEBGL2 = 'Requires WebGL2';\n\nexport function isWebGL(gl) {\n  if (typeof WebGLRenderingContext !== 'undefined' && gl instanceof WebGLRenderingContext) {\n    return true;\n  }\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n  // Look for debug contexts, headless gl etc\n  return Boolean(gl && Number.isFinite(gl._version));\n}\n\nexport function isWebGL2(gl) {\n  if (typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext) {\n    return true;\n  }\n  // Look for debug contexts, headless gl etc\n  return Boolean(gl && gl._version === 2);\n}\n\nexport function getWebGL2Context(gl) {\n  return isWebGL2(gl) ? gl : null;\n}\n\nexport function assertWebGLContext(gl) {\n  assert(isWebGL(gl), ERR_CONTEXT);\n  return gl;\n}\n\nexport function assertWebGL2Context(gl) {\n  assert(isWebGL2(gl), ERR_WEBGL2);\n  return gl;\n}\n"]},"metadata":{},"sourceType":"module"}