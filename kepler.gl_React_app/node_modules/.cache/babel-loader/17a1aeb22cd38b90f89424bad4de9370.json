{"ast":null,"code":"import { cloneElement } from 'react';\nvar MAP_STYLE = {\n  position: 'absolute',\n  zIndex: -1\n};\nexport default function evaluateChildren(children, childProps) {\n  if (!children) {\n    return children;\n  }\n  if (typeof children === 'function') {\n    return children(childProps);\n  }\n  if (Array.isArray(children)) {\n    return children.map(function (child) {\n      return evaluateChildren(child, childProps);\n    });\n  }\n  if (isReactMap(children)) {\n    childProps.style = MAP_STYLE;\n    return cloneElement(children, childProps);\n  }\n  if (needsDeckGLViewProps(children)) {\n    return cloneElement(children, childProps);\n  }\n  return children;\n}\nfunction isReactMap(child) {\n  var componentClass = child && child.type;\n  var componentProps = componentClass && componentClass.defaultProps;\n  return componentProps && componentProps.mapStyle;\n}\nfunction needsDeckGLViewProps(child) {\n  var componentClass = child && child.type;\n  return componentClass && componentClass.deckGLViewProps;\n}","map":{"version":3,"sources":["../../../src/utils/evaluate-children.js"],"names":["cloneElement","MAP_STYLE","position","zIndex","evaluateChildren","children","childProps","Array","isArray","map","child","isReactMap","style","needsDeckGLViewProps","componentClass","type","componentProps","defaultProps","mapStyle","deckGLViewProps"],"mappings":"AAAA,SAAQA,YAAR,QAA2B,OAA3B;AAEA,IAAMC,SAAS,GAAG;EAACC,QAAQ,EAAE,UAAX;EAAuBC,MAAM,EAAE,CAAC;AAAhC,CAAlB;AAEA,eAAe,SAASC,gBAAT,CAA0BC,QAA1B,EAAoCC,UAApC,EAAgD;EAC7D,IAAI,CAACD,QAAL,EAAe;IACb,OAAOA,QAAP;EACD;EACD,IAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;IAClC,OAAOA,QAAQ,CAACC,UAAD,CAAf;EACD;EACD,IAAIC,KAAK,CAACC,OAAND,CAAcF,QAAdE,CAAJ,EAA6B;IAC3B,OAAO,QAAQ,CAACE,GAAT,CAAa,UAAA,KAAK,EAAA;MAAA,OAAIL,gBAAgB,CAACM,KAAD,EAAQJ,UAAR,CAApB;IAAA,CAAlB,CAAP;EACD;EAID,IAAIK,UAAU,CAACN,QAAD,CAAd,EAA0B;IAExBC,UAAU,CAACM,KAAXN,GAAmBL,SAAnBK;IACA,OAAON,YAAY,CAACK,QAAD,EAAWC,UAAX,CAAnB;EACD;EACD,IAAIO,oBAAoB,CAACR,QAAD,CAAxB,EAAoC;IAClC,OAAOL,YAAY,CAACK,QAAD,EAAWC,UAAX,CAAnB;EACD;EACD,OAAOD,QAAP;AACD;AAED,SAASM,UAAT,CAAoBD,KAApB,EAA2B;EACzB,IAAMI,cAAc,GAAGJ,KAAK,IAAIA,KAAK,CAACK,IAAtC;EACA,IAAMC,cAAc,GAAGF,cAAc,IAAIA,cAAc,CAACG,YAAxD;EACA,OAAOD,cAAc,IAAIA,cAAc,CAACE,QAAxC;AACD;AAED,SAASL,oBAAT,CAA8BH,KAA9B,EAAqC;EACnC,IAAMI,cAAc,GAAGJ,KAAK,IAAIA,KAAK,CAACK,IAAtC;EACA,OAAOD,cAAc,IAAIA,cAAc,CAACK,eAAxC;AACD","sourcesContent":["import {cloneElement} from 'react';\n\nconst MAP_STYLE = {position: 'absolute', zIndex: -1};\n\nexport default function evaluateChildren(children, childProps) {\n  if (!children) {\n    return children;\n  }\n  if (typeof children === 'function') {\n    return children(childProps);\n  }\n  if (Array.isArray(children)) {\n    return children.map(child => evaluateChildren(child, childProps));\n  }\n\n  // Special treatment for react-map-gl's Map component\n  // to support shorthand use case <DeckGL><StaticMap /></DeckGL>\n  if (isReactMap(children)) {\n    // Place map under the canvas\n    childProps.style = MAP_STYLE;\n    return cloneElement(children, childProps);\n  }\n  if (needsDeckGLViewProps(children)) {\n    return cloneElement(children, childProps);\n  }\n  return children;\n}\n\nfunction isReactMap(child) {\n  const componentClass = child && child.type;\n  const componentProps = componentClass && componentClass.defaultProps;\n  return componentProps && componentProps.mapStyle;\n}\n\nfunction needsDeckGLViewProps(child) {\n  const componentClass = child && child.type;\n  return componentClass && componentClass.deckGLViewProps;\n}\n"]},"metadata":{},"sourceType":"module"}