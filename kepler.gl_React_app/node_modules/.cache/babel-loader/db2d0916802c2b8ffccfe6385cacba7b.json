{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LayerConfigGroupLabelFactory = LayerConfigGroupLabelFactory;\nexports[\"default\"] = exports.StyledLayerConfigGroup = exports.ConfigGroupCollapsibleHeader = exports.ConfigGroupCollapsibleContent = exports.StyledLayerConfigGroupAction = void 0;\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _reactIntl = require(\"react-intl\");\nvar _switch = _interopRequireDefault(require(\"../../common/switch\"));\nvar _infoHelper = _interopRequireDefault(require(\"../../common/info-helper\"));\nvar _icons = require(\"../../common/icons\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5, _templateObject6, _templateObject7;\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nvar StyledLayerConfigGroupAction = _styledComponents[\"default\"].div(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  align-items: center;\\n  color: \", \";\\n\"])), function (props) {\n  return props.theme.textColor;\n});\nexports.StyledLayerConfigGroupAction = StyledLayerConfigGroupAction;\nvar ConfigGroupCollapsibleContent = _styledComponents[\"default\"].div.attrs({\n  className: 'layer-config-group__content__collapsible'\n})(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  overflow: visible;\\n  transition: max-height 0.3s ease-out;\\n  height: max-content;\\n  max-height: 600px;\\n\"])));\nexports.ConfigGroupCollapsibleContent = ConfigGroupCollapsibleContent;\nvar ConfigGroupCollapsibleHeader = _styledComponents[\"default\"].div.attrs({\n  className: 'layer-config-group__header__collapsible'\n})(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  overflow: visible;\\n  overflow: hidden;\\n  max-height: 0;\\n\"])));\nexports.ConfigGroupCollapsibleHeader = ConfigGroupCollapsibleHeader;\nvar StyledLayerConfigGroup = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  padding-left: \", \"px;\\n  margin-bottom: \", \"px;\\n\\n  &.disabled {\\n    opacity: 0.3;\\n    pointer-events: none;\\n  }\\n  &.collapsed {\\n    .layer-config-group__header__collapsible {\\n      overflow: visible;\\n      max-height: 600px;\\n    }\\n    .layer-config-group__content {\\n      .layer-config-group__content__collapsible {\\n        overflow: hidden;\\n        max-height: 0;\\n      }\\n    }\\n  }\\n\"])), function (props) {\n  return props.theme.layerConfigGroupPaddingLeft;\n}, function (props) {\n  return props.theme.layerConfigGroupMarginBottom;\n});\nexports.StyledLayerConfigGroup = StyledLayerConfigGroup;\nvar StyledConfigGroupHeader = _styledComponents[\"default\"].div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 12px;\\n\\n  :hover {\\n    cursor: pointer;\\n    .layer-config-group__label {\\n      color: \", \";\\n    }\\n\\n    .layer-config-group__action {\\n      color: \", \";\\n    }\\n  }\\n\"])), function (props) {\n  return props.theme.textColorHl;\n}, function (props) {\n  return props.theme.textColorHl;\n});\nvar ConfigGroupContent = _styledComponents[\"default\"].div(_templateObject6 || (_templateObject6 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  &.disabled {\\n    opacity: 0.3;\\n    pointer-events: none;\\n    * {\\n      pointer-events: none;\\n    }\\n  }\\n\"])));\nLayerConfigGroupLabelFactory.deps = [_infoHelper[\"default\"]];\nfunction LayerConfigGroupLabelFactory(InfoHelper) {\n  var StyledLayerConfigGroupLabel = _styledComponents[\"default\"].div(_templateObject7 || (_templateObject7 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    border-left: \", \" solid\\n      \", \";\\n    line-height: 12px;\\n    margin-left: \", \";\\n    padding-left: \", \";\\n\\n    display: flex;\\n    align-items: center;\\n\\n    span {\\n      color: \", \";\\n      font-weight: 500;\\n      letter-spacing: 0.2px;\\n      text-transform: capitalize;\\n      margin-left: \", \";\\n      font-size: \", \";\\n    }\\n  \"])), function (props) {\n    return props.theme.layerConfigGroupLabelBorderLeft;\n  }, function (props) {\n    return props.theme.labelColor;\n  }, function (props) {\n    return props.theme.layerConfigGroupLabelMargin;\n  }, function (props) {\n    return props.theme.layerConfigGroupLabelPadding;\n  }, function (props) {\n    return props.theme.textColor;\n  }, function (props) {\n    return props.theme.layerConfigGroupLabelLabelMargin;\n  }, function (props) {\n    return props.theme.layerConfigGroupLabelLabelFontSize;\n  });\n  var LayerConfigGroupLabel = function LayerConfigGroupLabel(_ref) {\n    var label = _ref.label,\n      description = _ref.description;\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledLayerConfigGroupLabel, {\n      className: \"layer-config-group__label\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"span\", null, /*#__PURE__*/_react[\"default\"].createElement(_reactIntl.FormattedMessage, {\n      id: label || 'misc.empty',\n      defaultMessage: label\n    })), description && /*#__PURE__*/_react[\"default\"].createElement(InfoHelper, {\n      description: description,\n      id: label\n    }));\n  };\n  return LayerConfigGroupLabel;\n}\nLayerConfigGroupFactory.deps = [LayerConfigGroupLabelFactory];\nfunction LayerConfigGroupFactory(LayerConfigGroupLabel) {\n  var LayerConfigGroup = /*#__PURE__*/function (_Component) {\n    (0, _inherits2[\"default\"])(LayerConfigGroup, _Component);\n    var _super = _createSuper(LayerConfigGroup);\n    function LayerConfigGroup() {\n      var _this;\n      (0, _classCallCheck2[\"default\"])(this, LayerConfigGroup);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n        collapsed: true\n      });\n      return _this;\n    }\n    (0, _createClass2[\"default\"])(LayerConfigGroup, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        var _this$props = this.props,\n          label = _this$props.label,\n          children = _this$props.children,\n          property = _this$props.property,\n          layer = _this$props.layer,\n          _onChange2 = _this$props.onChange,\n          collapsible = _this$props.collapsible,\n          description = _this$props.description,\n          disabled = _this$props.disabled;\n        var collapsed = this.state.collapsed;\n        return /*#__PURE__*/_react[\"default\"].createElement(StyledLayerConfigGroup, {\n          className: (0, _classnames[\"default\"])('layer-config-group', {\n            collapsed: collapsed,\n            disabled: disabled\n          })\n        }, /*#__PURE__*/_react[\"default\"].createElement(StyledConfigGroupHeader, {\n          className: \"layer-config-group__header\",\n          onClick: function onClick() {\n            return _this2.setState({\n              collapsed: !_this2.state.collapsed\n            });\n          }\n        }, /*#__PURE__*/_react[\"default\"].createElement(LayerConfigGroupLabel, {\n          label: label,\n          description: description\n        }), /*#__PURE__*/_react[\"default\"].createElement(StyledLayerConfigGroupAction, {\n          className: \"layer-config-group__action\"\n        }, property ? /*#__PURE__*/_react[\"default\"].createElement(_switch[\"default\"], {\n          checked: layer.config.visConfig[property],\n          id: \"\".concat(layer.id, \"-\").concat(property),\n          onChange: function onChange() {\n            return _onChange2((0, _defineProperty2[\"default\"])({}, property, !layer.config.visConfig[property]));\n          }\n        }) : null, collapsible ? /*#__PURE__*/_react[\"default\"].createElement(_icons.VertThreeDots, {\n          height: \"18px\"\n        }) : null)), /*#__PURE__*/_react[\"default\"].createElement(ConfigGroupContent, {\n          className: (0, _classnames[\"default\"])('layer-config-group__content', {\n            disabled: property && !layer.config.visConfig[property]\n          })\n        }, children));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(props, state) {\n        //  invoked after a component is instantiated as well as before it is re-rendered\n        if (props.expanded && state.collapsed) {\n          return {\n            collapsed: false\n          };\n        }\n        return null;\n      }\n    }]);\n    return LayerConfigGroup;\n  }(_react.Component);\n  (0, _defineProperty2[\"default\"])(LayerConfigGroup, \"defaultProps\", {\n    collapsible: false,\n    expanded: false,\n    onChange: function onChange() {},\n    description: null,\n    disabled: false\n  });\n  (0, _reactLifecyclesCompat.polyfill)(LayerConfigGroup);\n  return LayerConfigGroup;\n}\nvar _default = LayerConfigGroupFactory;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../../../../src/components/side-panel/layer-panel/layer-config-group.js"],"names":["StyledLayerConfigGroupAction","styled","div","props","theme","textColor","ConfigGroupCollapsibleContent","attrs","className","ConfigGroupCollapsibleHeader","StyledLayerConfigGroup","layerConfigGroupPaddingLeft","layerConfigGroupMarginBottom","StyledConfigGroupHeader","textColorHl","ConfigGroupContent","LayerConfigGroupLabelFactory","deps","InfoHelperFactory","InfoHelper","StyledLayerConfigGroupLabel","layerConfigGroupLabelBorderLeft","labelColor","layerConfigGroupLabelMargin","layerConfigGroupLabelPadding","layerConfigGroupLabelLabelMargin","layerConfigGroupLabelLabelFontSize","LayerConfigGroupLabel","label","description","LayerConfigGroupFactory","LayerConfigGroup","Component","collapsible","expanded","onChange","disabled","state","collapsed","children","property","layer","setState","config","visConfig","id"],"mappings":";;;;;;;;;;;;;;;;;AAoBA,IAAA,MAAA,GAAA,uBAAA,CAAA,OAAA,CAAA,OAAA,CAAA,CAAA;AACA,IAAA,sBAAA,GAAA,OAAA,CAAA,yBAAA,CAAA;AACA,IAAA,iBAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,mBAAA,CAAA,CAAA;AACA,IAAA,WAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,YAAA,CAAA,CAAA;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;AACA,IAAA,OAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,qBAAA,CAAA,CAAA;AACA,IAAA,WAAA,GAAA,sBAAA,CAAA,OAAA,CAAA,0BAAA,CAAA,CAAA;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEO,IAAMA,4BAA4B,GAAGC,iBAAAA,CAAAA,SAAAA,CAAAA,CAAOC,GAAV,CAAA,eAAA,KAAA,eAAA,GAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,uDAAA,EAAA,KAAA,CAAA,CAAA,CAAA,EAG9B,UAAA,KAAK,EAAA;EAAA,OAAIC,KAAK,CAACC,KAAND,CAAYE,SAAhB;AAAA,CAHyB,CAAlC;;AAMA,IAAMC,6BAA6B,GAAG,iBAAA,CAAA,SAAA,CAAA,CAAOJ,GAAP,CAAWK,KAAX,CAAiB;EAC5DC,SAAS,EAAE;AADiD,CAAjB,CAAH,CAAA,gBAAA,KAAA,gBAAA,GAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,iHAAA,CAAA,CAAA,CAAA,CAAnC;;AASA,IAAMC,4BAA4B,GAAG,iBAAA,CAAA,SAAA,CAAA,CAAOP,GAAP,CAAWK,KAAX,CAAiB;EAC3DC,SAAS,EAAE;AADgD,CAAjB,CAAH,CAAA,gBAAA,KAAA,gBAAA,GAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,iEAAA,CAAA,CAAA,CAAA,CAAlC;;AAQA,IAAME,sBAAsB,GAAGT,iBAAAA,CAAAA,SAAAA,CAAAA,CAAOC,GAAV,CAAA,gBAAA,KAAA,gBAAA,GAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,oBAAA,EAAA,wBAAA,EAAA,uWAAA,CAAA,CAAA,CAAA,EACjB,UAAA,KAAK,EAAA;EAAA,OAAIC,KAAK,CAACC,KAAND,CAAYQ,2BAAhB;AAAA,CADY,EAEhB,UAAA,KAAK,EAAA;EAAA,OAAIR,KAAK,CAACC,KAAND,CAAYS,4BAAhB;AAAA,CAFW,CAA5B;;AAsBP,IAAMC,uBAAuB,GAAGZ,iBAAAA,CAAAA,SAAAA,CAAAA,CAAOC,GAAV,CAAA,gBAAA,KAAA,gBAAA,GAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,4LAAA,EAAA,8DAAA,EAAA,iBAAA,CAAA,CAAA,CAAA,EASd,UAAA,KAAK,EAAA;EAAA,OAAIC,KAAK,CAACC,KAAND,CAAYW,WAAhB;AAAA,CATS,EAad,UAAA,KAAK,EAAA;EAAA,OAAIX,KAAK,CAACC,KAAND,CAAYW,WAAhB;AAAA,CAbS,CAA7B;AAkBA,IAAMC,kBAAkB,GAAGd,iBAAAA,CAAAA,SAAAA,CAAAA,CAAOC,GAAV,CAAA,gBAAA,KAAA,gBAAA,GAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,oHAAA,CAAA,CAAA,CAAA,CAAxB;AAUAc,4BAA4B,CAACC,IAA7BD,GAAoC,CAACE,WAAAA,CAAAA,SAAAA,CAAD,CAApCF;AAEO,SAASA,4BAAT,CAAsCG,UAAtC,EAAkD;EACvD,IAAMC,2BAA2B,GAAGnB,iBAAAA,CAAAA,SAAAA,CAAAA,CAAOC,GAAV,CAAA,gBAAA,KAAA,gBAAA,GAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,qBAAA,EAAA,gBAAA,EAAA,8CAAA,EAAA,uBAAA,EAAA,gFAAA,EAAA,kHAAA,EAAA,sBAAA,EAAA,cAAA,CAAA,CAAA,CAAA,EAChB,UAAA,KAAK,EAAA;IAAA,OAAIC,KAAK,CAACC,KAAND,CAAYkB,+BAAhB;EAAA,CADW,EAE3B,UAAA,KAAK,EAAA;IAAA,OAAIlB,KAAK,CAACC,KAAND,CAAYmB,UAAhB;EAAA,CAFsB,EAIhB,UAAA,KAAK,EAAA;IAAA,OAAInB,KAAK,CAACC,KAAND,CAAYoB,2BAAhB;EAAA,CAJW,EAKf,UAAA,KAAK,EAAA;IAAA,OAAIpB,KAAK,CAACC,KAAND,CAAYqB,4BAAhB;EAAA,CALU,EAWpB,UAAA,KAAK,EAAA;IAAA,OAAIrB,KAAK,CAACC,KAAND,CAAYE,SAAhB;EAAA,CAXe,EAed,UAAA,KAAK,EAAA;IAAA,OAAIF,KAAK,CAACC,KAAND,CAAYsB,gCAAhB;EAAA,CAfS,EAgBhB,UAAA,KAAK,EAAA;IAAA,OAAItB,KAAK,CAACC,KAAND,CAAYuB,kCAAhB;EAAA,CAhBW,CAAjC;EAoBA,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAwB,CAAA,IAAA,EAAA;IAAA,IAAEC,KAAF,GAAA,IAAA,CAAEA,KAAF;MAASC,WAAT,GAAA,IAAA,CAASA,WAAT;IAAA,OAAA,aAC5B,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,2BAAD,EAAA;MAA6B,SAAS,EAAC;IAAvC,CAAA,EAAA,aACE,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAA,aACE,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,UAAA,CAAA,gBAAD,EAAA;MAAkB,EAAE,EAAED,KAAK,IAAI,YAA/B;MAA6C,cAAc,EAAEA;IAA7D,CAAA,CADF,CADF,EAIGC,WAAW,IAAA,aAAI,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,UAAD,EAAA;MAAY,WAAW,EAAEA,WAAzB;MAAsC,EAAE,EAAED;IAA1C,CAAA,CAJlB,CAD4B;EAAA,CAA9B;EASA,OAAOD,qBAAP;AACD;AAEDG,uBAAuB,CAACb,IAAxBa,GAA+B,CAACd,4BAAD,CAA/Bc;AAEA,SAASA,uBAAT,CAAiCH,qBAAjC,EAAwD;EAAA,IAChDI,gBADgD,GAAA,aAAA,UAAA,UAAA,EAAA;IAAA,CAAA,CAAA,EAAA,UAAA,CAAA,SAAA,CAAA,EAAA,gBAAA,EAAA,UAAA,CAAA;IAAA,IAAA,MAAA,GAAA,YAAA,CAAA,gBAAA,CAAA;IAAA,SAAA,gBAAA,GAAA;MAAA,IAAA,KAAA;MAAA,CAAA,CAAA,EAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,IAAA,EAAA,gBAAA,CAAA;MAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAA,IAAA,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;QAAA,IAAA,CAAA,IAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA;MAAA;MAAA,KAAA,GAAA,MAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,EAAA,CAAA,IAAA,CAAA,CAAA,MAAA,CAAA,IAAA,CAAA,CAAA;MAAA,CAAA,CAAA,EAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAA,uBAAA,CAAA,SAAA,CAAA,EAAA,KAAA,CAAA,EAAA,OAAA,EAmB5C;QACNO,SAAS,EAAE;MADL,CAnB4C,CAAA;MAAA,OAAA,KAAA;IAAA;IAAA,CAAA,CAAA,EAAA,aAAA,CAAA,SAAA,CAAA,EAAA,gBAAA,EAAA,CAAA;MAAA,GAAA,EAAA,QAAA;MAAA,KAAA,EAuBpD,SAAA,MAAA,GAAS;QAAA,IAAA,MAAA,GAAA,IAAA;QAAA,IAAA,WAAA,GAUH,IAAA,CAAKnC,KAVF;UAELyB,KAFK,GAAA,WAAA,CAELA,KAFK;UAGLW,QAHK,GAAA,WAAA,CAGLA,QAHK;UAILC,QAJK,GAAA,WAAA,CAILA,QAJK;UAKLC,KALK,GAAA,WAAA,CAKLA,KALK;UAMLN,UANK,GAAA,WAAA,CAMLA,QANK;UAOLF,WAPK,GAAA,WAAA,CAOLA,WAPK;UAQLJ,WARK,GAAA,WAAA,CAQLA,WARK;UASLO,QATK,GAAA,WAAA,CASLA,QATK;QAAA,IAYAE,SAZA,GAYa,IAAA,CAAKD,KAZlB,CAYAC,SAZA;QAcP,OAAA,aACE,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,sBAAD,EAAA;UAAwB,SAAS,EAAE,CAAA,CAAA,EAAA,WAAA,CAAA,SAAA,CAAA,EAAW,oBAAX,EAAiC;YAACA,SAAS,EAATA,SAAD;YAAYF,QAAQ,EAARA;UAAZ,CAAjC;QAAnC,CAAA,EAAA,aACE,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,uBAAD,EAAA;UACE,SAAS,EAAC,4BADZ;UAEE,OAAO,EAAE,SAAA,OAAA,GAAA;YAAA,OAAM,MAAI,CAACM,QAAL,CAAc;cAACJ,SAAS,EAAE,CAAC,MAAI,CAACD,KAAL,CAAWC;YAAxB,CAAd,CAAN;UAAA;QAFX,CAAA,EAAA,aAIE,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,qBAAD,EAAA;UAAuB,KAAK,EAAEV,KAA9B;UAAqC,WAAW,EAAEC;QAAlD,CAAA,CAJF,EAAA,aAKE,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,4BAAD,EAAA;UAA8B,SAAS,EAAC;QAAxC,CAAA,EACGW,QAAQ,GAAA,aACP,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,OAAA,CAAA,SAAA,CAAD,EAAA;UACE,OAAO,EAAEC,KAAK,CAACE,MAANF,CAAaG,SAAbH,CAAuBD,QAAvBC,CADX;UAEE,EAAE,EAAA,EAAA,CAAA,MAAA,CAAKA,KAAK,CAACI,EAAX,EAAA,GAAA,CAAA,CAAA,MAAA,CAAiBL,QAAjB,CAFJ;UAGE,QAAQ,EAAE,SAAA,QAAA,GAAA;YAAA,OAAML,UAAQ,CAAA,CAAA,CAAA,EAAA,gBAAA,CAAA,SAAA,CAAA,EAAA,CAAA,CAAA,EAAGK,QAAH,EAAc,CAACC,KAAK,CAACE,MAANF,CAAaG,SAAbH,CAAuBD,QAAvBC,CAAf,CAAA,CAAd;UAAA;QAHZ,CAAA,CADO,GAML,IAPN,EAQGR,WAAW,GAAA,aAAG,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,MAAA,CAAA,aAAD,EAAA;UAAe,MAAM,EAAC;QAAtB,CAAA,CAAH,GAAqC,IARnD,CALF,CADF,EAAA,aAiBE,MAAA,CAAA,SAAA,CAAA,CAAA,aAAA,CAAC,kBAAD,EAAA;UACE,SAAS,EAAE,CAAA,CAAA,EAAA,WAAA,CAAA,SAAA,CAAA,EAAW,6BAAX,EAA0C;YACnDG,QAAQ,EAAEI,QAAQ,IAAI,CAACC,KAAK,CAACE,MAANF,CAAaG,SAAbH,CAAuBD,QAAvBC;UAD4B,CAA1C;QADb,CAAA,EAKGF,QALH,CAjBF,CADF;MA2BD;IAhEmD,CAAA,CAAA,EAAA,CAAA;MAAA,GAAA,EAAA,0BAAA;MAAA,KAAA,EAUpD,SAAA,wBAAA,CAAgCpC,KAAhC,EAAuCkC,KAAvC,EAA8C;QAC5C;QACA,IAAIlC,KAAK,CAAC+B,QAAN/B,IAAkBkC,KAAK,CAACC,SAA5B,EAAuC;UACrC,OAAO;YAACA,SAAS,EAAE;UAAZ,CAAP;QACD;QAED,OAAO,IAAP;MACD;IAjBmD,CAAA,CAAA,CAAA;IAAA,OAAA,gBAAA;EAAA,CAAA,CACvBN,MAAAA,CAAAA,SADuB,CAAA;EAAA,CAAA,CAAA,EAAA,gBAAA,CAAA,SAAA,CAAA,EAChDD,gBADgD,EAAA,cAAA,EAE9B;IACpBE,WAAW,EAAE,KADO;IAEpBC,QAAQ,EAAE,KAFU;IAGpBC,QAAQ,EAAE,SAAA,QAAA,GAAM,CAAE,CAHE;IAIpBN,WAAW,EAAE,IAJO;IAKpBO,QAAQ,EAAE;EALU,CAF8B,CAAA;EAmEtD,CAAA,CAAA,EAAA,sBAAA,CAAA,QAAA,EAASL,gBAAT,CAAA;EAEA,OAAOA,gBAAP;AACD;eAEcD,uB","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport {polyfill} from 'react-lifecycles-compat';\nimport styled from 'styled-components';\nimport classnames from 'classnames';\nimport {FormattedMessage} from 'react-intl';\nimport Switch from 'components/common/switch';\nimport InfoHelperFactory from 'components/common/info-helper';\nimport {VertThreeDots} from 'components/common/icons';\n\nexport const StyledLayerConfigGroupAction = styled.div`\n  display: flex;\n  align-items: center;\n  color: ${props => props.theme.textColor};\n`;\n\nexport const ConfigGroupCollapsibleContent = styled.div.attrs({\n  className: 'layer-config-group__content__collapsible'\n})`\n  overflow: visible;\n  transition: max-height 0.3s ease-out;\n  height: max-content;\n  max-height: 600px;\n`;\n\nexport const ConfigGroupCollapsibleHeader = styled.div.attrs({\n  className: 'layer-config-group__header__collapsible'\n})`\n  overflow: visible;\n  overflow: hidden;\n  max-height: 0;\n`;\n\nexport const StyledLayerConfigGroup = styled.div`\n  padding-left: ${props => props.theme.layerConfigGroupPaddingLeft}px;\n  margin-bottom: ${props => props.theme.layerConfigGroupMarginBottom}px;\n\n  &.disabled {\n    opacity: 0.3;\n    pointer-events: none;\n  }\n  &.collapsed {\n    .layer-config-group__header__collapsible {\n      overflow: visible;\n      max-height: 600px;\n    }\n    .layer-config-group__content {\n      .layer-config-group__content__collapsible {\n        overflow: hidden;\n        max-height: 0;\n      }\n    }\n  }\n`;\n\nconst StyledConfigGroupHeader = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 12px;\n\n  :hover {\n    cursor: pointer;\n    .layer-config-group__label {\n      color: ${props => props.theme.textColorHl};\n    }\n\n    .layer-config-group__action {\n      color: ${props => props.theme.textColorHl};\n    }\n  }\n`;\n\nconst ConfigGroupContent = styled.div`\n  &.disabled {\n    opacity: 0.3;\n    pointer-events: none;\n    * {\n      pointer-events: none;\n    }\n  }\n`;\n\nLayerConfigGroupLabelFactory.deps = [InfoHelperFactory];\n\nexport function LayerConfigGroupLabelFactory(InfoHelper) {\n  const StyledLayerConfigGroupLabel = styled.div`\n    border-left: ${props => props.theme.layerConfigGroupLabelBorderLeft} solid\n      ${props => props.theme.labelColor};\n    line-height: 12px;\n    margin-left: ${props => props.theme.layerConfigGroupLabelMargin};\n    padding-left: ${props => props.theme.layerConfigGroupLabelPadding};\n\n    display: flex;\n    align-items: center;\n\n    span {\n      color: ${props => props.theme.textColor};\n      font-weight: 500;\n      letter-spacing: 0.2px;\n      text-transform: capitalize;\n      margin-left: ${props => props.theme.layerConfigGroupLabelLabelMargin};\n      font-size: ${props => props.theme.layerConfigGroupLabelLabelFontSize};\n    }\n  `;\n\n  const LayerConfigGroupLabel = ({label, description}) => (\n    <StyledLayerConfigGroupLabel className=\"layer-config-group__label\">\n      <span>\n        <FormattedMessage id={label || 'misc.empty'} defaultMessage={label} />\n      </span>\n      {description && <InfoHelper description={description} id={label} />}\n    </StyledLayerConfigGroupLabel>\n  );\n\n  return LayerConfigGroupLabel;\n}\n\nLayerConfigGroupFactory.deps = [LayerConfigGroupLabelFactory];\n\nfunction LayerConfigGroupFactory(LayerConfigGroupLabel) {\n  class LayerConfigGroup extends Component {\n    static defaultProps = {\n      collapsible: false,\n      expanded: false,\n      onChange: () => {},\n      description: null,\n      disabled: false\n    };\n\n    static getDerivedStateFromProps(props, state) {\n      //  invoked after a component is instantiated as well as before it is re-rendered\n      if (props.expanded && state.collapsed) {\n        return {collapsed: false};\n      }\n\n      return null;\n    }\n\n    state = {\n      collapsed: true\n    };\n\n    render() {\n      const {\n        label,\n        children,\n        property,\n        layer,\n        onChange,\n        collapsible,\n        description,\n        disabled\n      } = this.props;\n\n      const {collapsed} = this.state;\n\n      return (\n        <StyledLayerConfigGroup className={classnames('layer-config-group', {collapsed, disabled})}>\n          <StyledConfigGroupHeader\n            className=\"layer-config-group__header\"\n            onClick={() => this.setState({collapsed: !this.state.collapsed})}\n          >\n            <LayerConfigGroupLabel label={label} description={description} />\n            <StyledLayerConfigGroupAction className=\"layer-config-group__action\">\n              {property ? (\n                <Switch\n                  checked={layer.config.visConfig[property]}\n                  id={`${layer.id}-${property}`}\n                  onChange={() => onChange({[property]: !layer.config.visConfig[property]})}\n                />\n              ) : null}\n              {collapsible ? <VertThreeDots height=\"18px\" /> : null}\n            </StyledLayerConfigGroupAction>\n          </StyledConfigGroupHeader>\n          <ConfigGroupContent\n            className={classnames('layer-config-group__content', {\n              disabled: property && !layer.config.visConfig[property]\n            })}\n          >\n            {children}\n          </ConfigGroupContent>\n        </StyledLayerConfigGroup>\n      );\n    }\n  }\n\n  polyfill(LayerConfigGroup);\n\n  return LayerConfigGroup;\n}\n\nexport default LayerConfigGroupFactory;\n"]},"metadata":{},"sourceType":"script"}