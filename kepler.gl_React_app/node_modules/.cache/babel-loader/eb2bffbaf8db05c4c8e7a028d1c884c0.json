{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LayerTitleSectionFactory = LayerTitleSectionFactory;\nexports[\"default\"] = exports.LayerLabelEditor = exports.DragHandle = exports.defaultProps = void 0;\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _reactSortableHoc = require(\"react-sortable-hoc\");\nvar _panelHeaderAction = _interopRequireDefault(require(\"../panel-header-action\"));\nvar _icons = require(\"../../common/icons\");\nvar _styledComponents2 = require(\"../../common/styled-components\");\nvar _localization = require(\"../../../localization\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nvar propTypes = {\n  // required\n  layerId: _propTypes[\"default\"].string.isRequired,\n  isVisible: _propTypes[\"default\"].bool.isRequired,\n  onToggleVisibility: _propTypes[\"default\"].func.isRequired,\n  onUpdateLayerLabel: _propTypes[\"default\"].func.isRequired,\n  onToggleEnableConfig: _propTypes[\"default\"].func.isRequired,\n  onRemoveLayer: _propTypes[\"default\"].func.isRequired,\n  onDuplicateLayer: _propTypes[\"default\"].func.isRequired,\n  isConfigActive: _propTypes[\"default\"].bool.isRequired,\n  // optional\n  showRemoveLayer: _propTypes[\"default\"].bool,\n  label: _propTypes[\"default\"].string,\n  layerType: _propTypes[\"default\"].string,\n  isDragNDropEnabled: _propTypes[\"default\"].bool,\n  labelRCGColorValues: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].number)\n};\nvar defaultProps = {\n  isDragNDropEnabled: true,\n  showRemoveLayer: true\n};\nexports.defaultProps = defaultProps;\nvar StyledLayerPanelHeader = (0, _styledComponents[\"default\"])(_styledComponents2.StyledPanelHeader)(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  height: \", \"px;\\n  .layer__remove-layer {\\n    opacity: 0;\\n  }\\n  :hover {\\n    cursor: pointer;\\n    background-color: \", \";\\n\\n    .layer__drag-handle {\\n      opacity: 1;\\n    }\\n\\n    .layer__remove-layer {\\n      opacity: 1;\\n    }\\n  }\\n\"])), function (props) {\n  return props.theme.layerPanelHeaderHeight;\n}, function (props) {\n  return props.theme.panelBackgroundHover;\n});\nvar HeaderLabelSection = _styledComponents[\"default\"].div(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  color: \", \";\\n\"])), function (props) {\n  return props.theme.textColor;\n});\nvar HeaderActionSection = _styledComponents[\"default\"].div(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n\"])));\nvar StyledDragHandle = _styledComponents[\"default\"].div(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  align-items: center;\\n  opacity: 0;\\n  z-index: 1000;\\n\\n  :hover {\\n    cursor: move;\\n    opacity: 1;\\n    color: \", \";\\n  }\\n\"])), function (props) {\n  return props.theme.textColorHl;\n});\nvar DragHandle = (0, _reactSortableHoc.SortableHandle)(function (_ref) {\n  var className = _ref.className,\n    children = _ref.children;\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledDragHandle, {\n    className: className\n  }, children);\n});\nexports.DragHandle = DragHandle;\nvar LayerLabelEditor = function LayerLabelEditor(_ref2) {\n  var layerId = _ref2.layerId,\n    label = _ref2.label,\n    onEdit = _ref2.onEdit;\n  return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.InlineInput, {\n    type: \"text\",\n    className: \"layer__title__editor\",\n    value: label,\n    onClick: function onClick(e) {\n      e.stopPropagation();\n    },\n    onChange: onEdit,\n    id: \"\".concat(layerId, \":input-layer-label\")\n  });\n};\nexports.LayerLabelEditor = LayerLabelEditor;\nfunction LayerTitleSectionFactory() {\n  var StyledLayerTitleSection = _styledComponents[\"default\"].div(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n    margin-left: 4px;\\n\\n    .layer__title__type {\\n      color: \", \";\\n      font-size: 10px;\\n      line-height: 12px;\\n      letter-spacing: 0.37px;\\n      text-transform: capitalize;\\n    }\\n  \"])), function (props) {\n    return props.theme.subtextColor;\n  });\n  var LayerTitleSection = function LayerTitleSection(_ref3) {\n    var layerType = _ref3.layerType,\n      layerId = _ref3.layerId,\n      label = _ref3.label,\n      onUpdateLayerLabel = _ref3.onUpdateLayerLabel;\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledLayerTitleSection, {\n      className: \"layer__title\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", null, /*#__PURE__*/_react[\"default\"].createElement(LayerLabelEditor, {\n      layerId: layerId,\n      label: label,\n      onEdit: onUpdateLayerLabel\n    }), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"layer__title__type\"\n    }, layerType && /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: \"layer.type.\".concat(layerType.toLowerCase())\n    }))));\n  };\n  return LayerTitleSection;\n}\nLayerPanelHeaderFactory.deps = [LayerTitleSectionFactory, _panelHeaderAction[\"default\"]];\nvar defaultActionIcons = {\n  remove: _icons.Trash,\n  visible: _icons.EyeSeen,\n  hidden: _icons.EyeUnseen,\n  enableConfig: _icons.ArrowDown,\n  duplicate: _icons.Copy\n};\nfunction LayerPanelHeaderFactory(LayerTitleSection, PanelHeaderAction) {\n  var LayerPanelHeader = function LayerPanelHeader(_ref4) {\n    var isConfigActive = _ref4.isConfigActive,\n      isDragNDropEnabled = _ref4.isDragNDropEnabled,\n      isVisible = _ref4.isVisible,\n      label = _ref4.label,\n      layerId = _ref4.layerId,\n      layerType = _ref4.layerType,\n      labelRCGColorValues = _ref4.labelRCGColorValues,\n      onToggleVisibility = _ref4.onToggleVisibility,\n      onUpdateLayerLabel = _ref4.onUpdateLayerLabel,\n      onToggleEnableConfig = _ref4.onToggleEnableConfig,\n      onDuplicateLayer = _ref4.onDuplicateLayer,\n      onRemoveLayer = _ref4.onRemoveLayer,\n      showRemoveLayer = _ref4.showRemoveLayer,\n      _ref4$actionIcons = _ref4.actionIcons,\n      actionIcons = _ref4$actionIcons === void 0 ? defaultActionIcons : _ref4$actionIcons;\n    var _useState = (0, _react.useState)(false),\n      _useState2 = (0, _slicedToArray2[\"default\"])(_useState, 2),\n      isOpen = _useState2[0],\n      setOpen = _useState2[1];\n    var toggleLayerConfigurator = function toggleLayerConfigurator(e) {\n      setOpen(!isOpen);\n      onToggleEnableConfig(e);\n    };\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledLayerPanelHeader, {\n      className: (0, _classnames[\"default\"])('layer-panel__header', {\n        'sort--handle': !isConfigActive\n      }),\n      active: isConfigActive,\n      labelRCGColorValues: labelRCGColorValues,\n      onClick: toggleLayerConfigurator\n    }, /*#__PURE__*/_react[\"default\"].createElement(HeaderLabelSection, {\n      className: \"layer-panel__header__content\"\n    }, isDragNDropEnabled && /*#__PURE__*/_react[\"default\"].createElement(DragHandle, {\n      className: \"layer__drag-handle\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_icons.VertDots, {\n      height: \"20px\"\n    })), /*#__PURE__*/_react[\"default\"].createElement(LayerTitleSection, {\n      layerId: layerId,\n      label: label,\n      onUpdateLayerLabel: onUpdateLayerLabel,\n      layerType: layerType\n    })), /*#__PURE__*/_react[\"default\"].createElement(HeaderActionSection, {\n      className: \"layer-panel__header__actions\"\n    }, showRemoveLayer ? /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: \"layer__remove-layer\",\n      id: layerId,\n      tooltip: 'tooltip.removeLayer',\n      onClick: onRemoveLayer,\n      tooltipType: \"error\",\n      IconComponent: actionIcons.remove\n    }) : null, /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: \"layer__visibility-toggle\",\n      id: layerId,\n      tooltip: isVisible ? 'tooltip.hideLayer' : 'tooltip.showLayer',\n      onClick: onToggleVisibility,\n      IconComponent: isVisible ? actionIcons.visible : actionIcons.hidden\n    }), /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: \"layer__duplicate\",\n      id: layerId,\n      tooltip: 'tooltip.duplicateLayer',\n      onClick: onDuplicateLayer,\n      IconComponent: actionIcons.duplicate\n    }), /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderAction, {\n      className: (0, _classnames[\"default\"])('layer__enable-config ', {\n        'is-open': isOpen\n      }),\n      id: layerId,\n      tooltip: 'tooltip.layerSettings',\n      onClick: toggleLayerConfigurator,\n      IconComponent: actionIcons.enableConfig\n    })));\n  };\n  LayerPanelHeader.propTypes = propTypes;\n  LayerPanelHeader.defaultProps = defaultProps;\n  return LayerPanelHeader;\n}\nvar _default = LayerPanelHeaderFactory;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../../../../src/components/side-panel/layer-panel/layer-panel-header.js"],"names":["propTypes","layerId","PropTypes","string","isRequired","isVisible","bool","onToggleVisibility","func","onUpdateLayerLabel","onToggleEnableConfig","onRemoveLayer","onDuplicateLayer","isConfigActive","showRemoveLayer","label","layerType","isDragNDropEnabled","labelRCGColorValues","arrayOf","number","defaultProps","StyledLayerPanelHeader","StyledPanelHeader","props","theme","layerPanelHeaderHeight","panelBackgroundHover","HeaderLabelSection","styled","div","textColor","HeaderActionSection","StyledDragHandle","textColorHl","DragHandle","className","children","LayerLabelEditor","onEdit","e","stopPropagation","LayerTitleSectionFactory","StyledLayerTitleSection","subtextColor","LayerTitleSection","toLowerCase","LayerPanelHeaderFactory","deps","PanelHeaderActionFactory","defaultActionIcons","remove","Trash","visible","EyeSeen","hidden","EyeUnseen","enableConfig","ArrowDown","duplicate","Copy","PanelHeaderAction","LayerPanelHeader","actionIcons","isOpen","setOpen","toggleLayerConfigurator"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport styled from 'styled-components';\nimport {SortableHandle} from 'react-sortable-hoc';\nimport PanelHeaderActionFactory from 'components/side-panel/panel-header-action';\nimport {Copy, ArrowDown, EyeSeen, EyeUnseen, Trash, VertDots} from 'components/common/icons';\n\nimport {InlineInput, StyledPanelHeader} from 'components/common/styled-components';\nimport {FormattedMessage} from 'localization';\n\nconst propTypes = {\n  // required\n  layerId: PropTypes.string.isRequired,\n  isVisible: PropTypes.bool.isRequired,\n  onToggleVisibility: PropTypes.func.isRequired,\n  onUpdateLayerLabel: PropTypes.func.isRequired,\n  onToggleEnableConfig: PropTypes.func.isRequired,\n  onRemoveLayer: PropTypes.func.isRequired,\n  onDuplicateLayer: PropTypes.func.isRequired,\n  isConfigActive: PropTypes.bool.isRequired,\n\n  // optional\n  showRemoveLayer: PropTypes.bool,\n  label: PropTypes.string,\n  layerType: PropTypes.string,\n  isDragNDropEnabled: PropTypes.bool,\n  labelRCGColorValues: PropTypes.arrayOf(PropTypes.number)\n};\n\nexport const defaultProps = {\n  isDragNDropEnabled: true,\n  showRemoveLayer: true\n};\n\nconst StyledLayerPanelHeader = styled(StyledPanelHeader)`\n  height: ${props => props.theme.layerPanelHeaderHeight}px;\n  .layer__remove-layer {\n    opacity: 0;\n  }\n  :hover {\n    cursor: pointer;\n    background-color: ${props => props.theme.panelBackgroundHover};\n\n    .layer__drag-handle {\n      opacity: 1;\n    }\n\n    .layer__remove-layer {\n      opacity: 1;\n    }\n  }\n`;\n\nconst HeaderLabelSection = styled.div`\n  display: flex;\n  color: ${props => props.theme.textColor};\n`;\n\nconst HeaderActionSection = styled.div`\n  display: flex;\n`;\n\nconst StyledDragHandle = styled.div`\n  display: flex;\n  align-items: center;\n  opacity: 0;\n  z-index: 1000;\n\n  :hover {\n    cursor: move;\n    opacity: 1;\n    color: ${props => props.theme.textColorHl};\n  }\n`;\n\nexport const DragHandle = SortableHandle(({className, children}) => (\n  <StyledDragHandle className={className}>{children}</StyledDragHandle>\n));\n\nexport const LayerLabelEditor = ({layerId, label, onEdit}) => (\n  <InlineInput\n    type=\"text\"\n    className=\"layer__title__editor\"\n    value={label}\n    onClick={e => {\n      e.stopPropagation();\n    }}\n    onChange={onEdit}\n    id={`${layerId}:input-layer-label`}\n  />\n);\n\nexport function LayerTitleSectionFactory() {\n  const StyledLayerTitleSection = styled.div`\n    margin-left: 4px;\n\n    .layer__title__type {\n      color: ${props => props.theme.subtextColor};\n      font-size: 10px;\n      line-height: 12px;\n      letter-spacing: 0.37px;\n      text-transform: capitalize;\n    }\n  `;\n  const LayerTitleSection = ({layerType, layerId, label, onUpdateLayerLabel}) => (\n    <StyledLayerTitleSection className=\"layer__title\">\n      <div>\n        <LayerLabelEditor layerId={layerId} label={label} onEdit={onUpdateLayerLabel} />\n        <div className=\"layer__title__type\">\n          {layerType && <FormattedMessage id={`layer.type.${layerType.toLowerCase()}`} />}\n        </div>\n      </div>\n    </StyledLayerTitleSection>\n  );\n  return LayerTitleSection;\n}\n\nLayerPanelHeaderFactory.deps = [LayerTitleSectionFactory, PanelHeaderActionFactory];\nconst defaultActionIcons = {\n  remove: Trash,\n  visible: EyeSeen,\n  hidden: EyeUnseen,\n  enableConfig: ArrowDown,\n  duplicate: Copy\n};\nfunction LayerPanelHeaderFactory(LayerTitleSection, PanelHeaderAction) {\n  const LayerPanelHeader = ({\n    isConfigActive,\n    isDragNDropEnabled,\n    isVisible,\n    label,\n    layerId,\n    layerType,\n    labelRCGColorValues,\n    onToggleVisibility,\n    onUpdateLayerLabel,\n    onToggleEnableConfig,\n    onDuplicateLayer,\n    onRemoveLayer,\n    showRemoveLayer,\n    actionIcons = defaultActionIcons\n  }) => {\n    const [isOpen, setOpen] = useState(false);\n    const toggleLayerConfigurator = e => {\n      setOpen(!isOpen);\n      onToggleEnableConfig(e);\n    };\n    return (\n      <StyledLayerPanelHeader\n        className={classnames('layer-panel__header', {\n          'sort--handle': !isConfigActive\n        })}\n        active={isConfigActive}\n        labelRCGColorValues={labelRCGColorValues}\n        onClick={toggleLayerConfigurator}\n      >\n        <HeaderLabelSection className=\"layer-panel__header__content\">\n          {isDragNDropEnabled && (\n            <DragHandle className=\"layer__drag-handle\">\n              <VertDots height=\"20px\" />\n            </DragHandle>\n          )}\n          <LayerTitleSection\n            layerId={layerId}\n            label={label}\n            onUpdateLayerLabel={onUpdateLayerLabel}\n            layerType={layerType}\n          />\n        </HeaderLabelSection>\n        <HeaderActionSection className=\"layer-panel__header__actions\">\n          {showRemoveLayer ? (\n            <PanelHeaderAction\n              className=\"layer__remove-layer\"\n              id={layerId}\n              tooltip={'tooltip.removeLayer'}\n              onClick={onRemoveLayer}\n              tooltipType=\"error\"\n              IconComponent={actionIcons.remove}\n            />\n          ) : null}\n          <PanelHeaderAction\n            className=\"layer__visibility-toggle\"\n            id={layerId}\n            tooltip={isVisible ? 'tooltip.hideLayer' : 'tooltip.showLayer'}\n            onClick={onToggleVisibility}\n            IconComponent={isVisible ? actionIcons.visible : actionIcons.hidden}\n          />\n          <PanelHeaderAction\n            className=\"layer__duplicate\"\n            id={layerId}\n            tooltip={'tooltip.duplicateLayer'}\n            onClick={onDuplicateLayer}\n            IconComponent={actionIcons.duplicate}\n          />\n          <PanelHeaderAction\n            className={classnames('layer__enable-config ', {\n              'is-open': isOpen\n            })}\n            id={layerId}\n            tooltip={'tooltip.layerSettings'}\n            onClick={toggleLayerConfigurator}\n            IconComponent={actionIcons.enableConfig}\n          />\n        </HeaderActionSection>\n      </StyledLayerPanelHeader>\n    );\n  };\n\n  LayerPanelHeader.propTypes = propTypes;\n  LayerPanelHeader.defaultProps = defaultProps;\n\n  return LayerPanelHeader;\n}\n\nexport default LayerPanelHeaderFactory;\n"]},"metadata":{},"sourceType":"script"}