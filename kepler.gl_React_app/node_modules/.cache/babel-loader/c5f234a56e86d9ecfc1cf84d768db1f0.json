{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getFeatureStyle = getFeatureStyle;\nexports.getEditHandleStyle = getEditHandleStyle;\nexports.HIDDEN_CLICKABLE_STYLE = void 0;\nvar _constants = require(\"./constants\");\nvar RECT_STYLE = {\n  x: -6,\n  y: -6,\n  height: 12,\n  width: 12\n};\nvar CLOSING_RECT_STYLE = {\n  x: -10,\n  y: -10,\n  height: 20,\n  width: 20\n};\nvar DEFAULT_STROKE_WIDTH = 2;\nvar HIGHLIGHTED_STROKE_WIDTH = 4;\nvar DEFAULT_RADIUS = 8;\nvar HIDDEN_CLICKABLE_STYLE = {\n  fill: '#000',\n  opacity: 0\n};\nexports.HIDDEN_CLICKABLE_STYLE = HIDDEN_CLICKABLE_STYLE;\nfunction getFeatureStyle(_ref) {\n  var feature = _ref.feature,\n    state = _ref.state;\n  var style = {\n    stroke: state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED || state === _constants.RENDER_STATE.CLOSING ? '#a9a9a9' : '#000',\n    strokeWidth: DEFAULT_STROKE_WIDTH,\n    fill: state === _constants.RENDER_STATE.INACTIVE ? '#333333' : state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.SELECTED ? '#ffff00' : state === _constants.RENDER_STATE.UNCOMMITTED || state === _constants.RENDER_STATE.CLOSING ? '#a9a9a9' : '#000000',\n    fillOpacity: state === _constants.RENDER_STATE.INACTIVE ? 0.1 : state === _constants.RENDER_STATE.SELECTED ? 0.7 : state === _constants.RENDER_STATE.HOVERED ? 0.5 : state === _constants.RENDER_STATE.UNCOMMITTED || state === _constants.RENDER_STATE.CLOSING ? 0.3 : 1\n  };\n  var renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n  switch (renderType) {\n    case _constants.RENDER_TYPE.POINT:\n      style.r = DEFAULT_RADIUS;\n      break;\n    case _constants.RENDER_TYPE.LINE_STRING:\n      style.fill = 'none';\n      break;\n    case _constants.RENDER_TYPE.POLYGON:\n      if (state === _constants.RENDER_STATE.CLOSING) {\n        style.strokeDasharray = '4,2';\n      }\n      break;\n    case _constants.RENDER_TYPE.RECTANGLE:\n      if (state === _constants.RENDER_STATE.UNCOMMITTED) {\n        style.strokeDasharray = '4,2';\n      }\n      break;\n    default:\n  }\n  return style;\n}\nfunction getEditHandleStyle(_ref2) {\n  var feature = _ref2.feature,\n    index = _ref2.index,\n    state = _ref2.state;\n  var style = {\n    fill: state === _constants.RENDER_STATE.INACTIVE ? '#ffffff' : state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.CLOSING ? '#ffff00' : state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED ? '#a9a9a9' : '#000000',\n    fillOpacity: state === _constants.RENDER_STATE.INACTIVE ? 1 : state === _constants.RENDER_STATE.HOVERED ? 1 : state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.CLOSING ? 0.8 : state === _constants.RENDER_STATE.UNCOMMITTED ? 0.3 : 1,\n    stroke: state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.HOVERED || state === _constants.RENDER_STATE.CLOSING ? '#7ac943' : '#000',\n    strokeWidth: state === _constants.RENDER_STATE.SELECTED || state === _constants.RENDER_STATE.CLOSING ? HIGHLIGHTED_STROKE_WIDTH : DEFAULT_STROKE_WIDTH,\n    r: DEFAULT_RADIUS\n  };\n  var renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n  switch (renderType) {\n    case _constants.RENDER_TYPE.POINT:\n      style.fill = state === _constants.RENDER_STATE.INACTIVE ? '#333333' : state === _constants.RENDER_STATE.SELECTED ? '#ffff00' : state === _constants.RENDER_STATE.HOVERED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED ? 'none' : '#000000';\n      style.stroke = state === _constants.RENDER_STATE.SELECTED ? '#7ac943' : state === _constants.RENDER_STATE.UNCOMMITTED ? 'none' : '#000';\n      break;\n    case _constants.RENDER_TYPE.LINE_STRING:\n    case _constants.RENDER_TYPE.POLYGON:\n    case _constants.RENDER_TYPE.RECTANGLE:\n      if (state === _constants.RENDER_STATE.CLOSING) {\n        Object.assign(style, CLOSING_RECT_STYLE);\n      } else {\n        Object.assign(style, RECT_STYLE);\n      }\n      break;\n    default:\n  }\n  return style;\n}","map":{"version":3,"sources":["../src/style.js"],"names":["RECT_STYLE","x","y","height","width","CLOSING_RECT_STYLE","DEFAULT_STROKE_WIDTH","HIGHLIGHTED_STROKE_WIDTH","DEFAULT_RADIUS","HIDDEN_CLICKABLE_STYLE","fill","opacity","getFeatureStyle","feature","state","style","stroke","RENDER_STATE","SELECTED","HOVERED","UNCOMMITTED","CLOSING","strokeWidth","INACTIVE","fillOpacity","renderType","properties","RENDER_TYPE","POINT","r","LINE_STRING","POLYGON","strokeDasharray","RECTANGLE","getEditHandleStyle","index","Object","assign"],"mappings":";;;;;;;;AAAA,IAAA,UAAA,GAAA,OAAA,CAAA,aAAA,CAAA;AAEA,IAAMA,UAAU,GAAG;EACjBC,CAAC,EAAE,CAAC,CADa;EAEjBC,CAAC,EAAE,CAAC,CAFa;EAGjBC,MAAM,EAAE,EAHS;EAIjBC,KAAK,EAAE;AAJU,CAAnB;AAOA,IAAMC,kBAAkB,GAAG;EACzBJ,CAAC,EAAE,CAAC,EADqB;EAEzBC,CAAC,EAAE,CAAC,EAFqB;EAGzBC,MAAM,EAAE,EAHiB;EAIzBC,KAAK,EAAE;AAJkB,CAA3B;AAOA,IAAME,oBAAoB,GAAG,CAA7B;AACA,IAAMC,wBAAwB,GAAG,CAAjC;AACA,IAAMC,cAAc,GAAG,CAAvB;AAEO,IAAMC,sBAAsB,GAAG;EACpCC,IAAI,EAAE,MAD8B;EAEpCC,OAAO,EAAE;AAF2B,CAA/B;;AAKA,SAASC,eAAT,CAAA,IAAA,EAA6C;EAAA,IAAlBC,OAAkB,GAAA,IAAA,CAAlBA,OAAkB;IAATC,KAAS,GAAA,IAAA,CAATA,KAAS;EAClD,IAAMC,KAAK,GAAG;IACZC,MAAM,EACJF,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,IAAmCA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaE,OAA1DL,GACI,SADJA,GAEIA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAAvBN,IAAsCA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA7DP,GACE,SADFA,GAEE,MANI;IAOZQ,WAAW,EAAEhB,oBAPD;IAQZI,IAAI,EACFI,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaM,QAAvBT,GACI,SADJA,GAEIA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaE,OAAvBL,GACE,SADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,GACE,SADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAAvBN,IAAsCA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA7DP,GACE,SADFA,GAEE,SAjBA;IAkBZU,WAAW,EACTV,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaM,QAAvBT,GACI,GADJA,GAEIA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,GACE,GADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaE,OAAvBL,GACE,GADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAAvBN,IAAsCA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA7DP,GACE,GADFA,GAEE;EA3BA,CAAd;EA8BA,IAAMW,UAAU,GAAGZ,OAAO,CAACa,UAARb,GAAqBA,OAAO,CAACa,UAARb,CAAmBY,UAAxCZ,GAAqDA,OAAO,CAACY,UAAhF;EAEA,QAAQA,UAAR;IACE,KAAKE,UAAAA,CAAAA,WAAAA,CAAYC,KAAjB;MACEb,KAAK,CAACc,CAANd,GAAUP,cAAVO;MACA;IACF,KAAKY,UAAAA,CAAAA,WAAAA,CAAYG,WAAjB;MACEf,KAAK,CAACL,IAANK,GAAa,MAAbA;MACA;IACF,KAAKY,UAAAA,CAAAA,WAAAA,CAAYI,OAAjB;MACE,IAAIjB,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA3B,EAAoC;QAClCN,KAAK,CAACiB,eAANjB,GAAwB,KAAxBA;MACD;MACD;IACF,KAAKY,UAAAA,CAAAA,WAAAA,CAAYM,SAAjB;MACE,IAAInB,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAA3B,EAAwC;QACtCL,KAAK,CAACiB,eAANjB,GAAwB,KAAxBA;MACD;MACD;IACF;EAAA;EAGF,OAAOA,KAAP;AACD;AAEM,SAASmB,kBAAT,CAAA,KAAA,EAAuD;EAAA,IAAzBrB,OAAyB,GAAA,KAAA,CAAzBA,OAAyB;IAAhBsB,KAAgB,GAAA,KAAA,CAAhBA,KAAgB;IAATrB,KAAS,GAAA,KAAA,CAATA,KAAS;EAC5D,IAAMC,KAAK,GAAG;IACZL,IAAI,EACFI,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaM,QAAvBT,GACI,SADJA,GAEIA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,IAAmCA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA1DP,GACE,SADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaE,OAAvBL,GACE,SADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAAvBN,GACE,SADFA,GAEE,SAVA;IAWZU,WAAW,EACTV,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaM,QAAvBT,GACI,CADJA,GAEIA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaE,OAAvBL,GACE,CADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,IAAmCA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA1DP,GACE,GADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAAvBN,GACE,GADFA,GAEE,CApBA;IAqBZE,MAAM,EACJF,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,IACAA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaE,OADvBL,IAEAA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAFvBP,GAGI,SAHJA,GAII,MA1BM;IA2BZQ,WAAW,EACTR,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,IAAmCA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA1DP,GACIP,wBADJO,GAEIR,oBA9BM;IA+BZuB,CAAC,EAAErB;EA/BS,CAAd;EAkCA,IAAMiB,UAAU,GAAGZ,OAAO,CAACa,UAARb,GAAqBA,OAAO,CAACa,UAARb,CAAmBY,UAAxCZ,GAAqDA,OAAO,CAACY,UAAhF;EAEA,QAAQA,UAAR;IACE,KAAKE,UAAAA,CAAAA,WAAAA,CAAYC,KAAjB;MACEb,KAAK,CAACL,IAANK,GACED,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaM,QAAvBT,GACI,SADJA,GAEIA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,GACE,SADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaE,OAAvBL,GACE,SADFA,GAEEA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAAvBN,GACE,MADFA,GAEE,SATZC;MAUAA,KAAK,CAACC,MAAND,GACED,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaC,QAAvBJ,GACI,SADJA,GAEIA,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaG,WAAvBN,GACE,MADFA,GAEE,MALRC;MAMA;IACF,KAAKY,UAAAA,CAAAA,WAAAA,CAAYG,WAAjB;IACA,KAAKH,UAAAA,CAAAA,WAAAA,CAAYI,OAAjB;IACA,KAAKJ,UAAAA,CAAAA,WAAAA,CAAYM,SAAjB;MACE,IAAInB,KAAK,KAAKG,UAAAA,CAAAA,YAAAA,CAAaI,OAA3B,EAAoC;QAClCe,MAAM,CAACC,MAAPD,CAAcrB,KAAdqB,EAAqB/B,kBAArB+B,CAAAA;MACD,CAFD,MAEO;QACLA,MAAM,CAACC,MAAPD,CAAcrB,KAAdqB,EAAqBpC,UAArBoC,CAAAA;MACD;MACD;IACF;EAAA;EAGF,OAAOrB,KAAP;AACD","sourcesContent":["import { RENDER_STATE, RENDER_TYPE } from './constants';\n\nconst RECT_STYLE = {\n  x: -6,\n  y: -6,\n  height: 12,\n  width: 12\n};\n\nconst CLOSING_RECT_STYLE = {\n  x: -10,\n  y: -10,\n  height: 20,\n  width: 20\n};\n\nconst DEFAULT_STROKE_WIDTH = 2;\nconst HIGHLIGHTED_STROKE_WIDTH = 4;\nconst DEFAULT_RADIUS = 8;\n\nexport const HIDDEN_CLICKABLE_STYLE = {\n  fill: '#000',\n  opacity: 0\n};\n\nexport function getFeatureStyle({ feature, state }) {\n  const style = {\n    stroke:\n      state === RENDER_STATE.SELECTED || state === RENDER_STATE.HOVERED\n        ? '#7ac943'\n        : state === RENDER_STATE.UNCOMMITTED || state === RENDER_STATE.CLOSING\n          ? '#a9a9a9'\n          : '#000',\n    strokeWidth: DEFAULT_STROKE_WIDTH,\n    fill:\n      state === RENDER_STATE.INACTIVE\n        ? '#333333'\n        : state === RENDER_STATE.HOVERED\n          ? '#7ac943'\n          : state === RENDER_STATE.SELECTED\n            ? '#ffff00'\n            : state === RENDER_STATE.UNCOMMITTED || state === RENDER_STATE.CLOSING\n              ? '#a9a9a9'\n              : '#000000',\n    fillOpacity:\n      state === RENDER_STATE.INACTIVE\n        ? 0.1\n        : state === RENDER_STATE.SELECTED\n          ? 0.7\n          : state === RENDER_STATE.HOVERED\n            ? 0.5\n            : state === RENDER_STATE.UNCOMMITTED || state === RENDER_STATE.CLOSING\n              ? 0.3\n              : 1\n  };\n\n  const renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n\n  switch (renderType) {\n    case RENDER_TYPE.POINT:\n      style.r = DEFAULT_RADIUS;\n      break;\n    case RENDER_TYPE.LINE_STRING:\n      style.fill = 'none';\n      break;\n    case RENDER_TYPE.POLYGON:\n      if (state === RENDER_STATE.CLOSING) {\n        style.strokeDasharray = '4,2';\n      }\n      break;\n    case RENDER_TYPE.RECTANGLE:\n      if (state === RENDER_STATE.UNCOMMITTED) {\n        style.strokeDasharray = '4,2';\n      }\n      break;\n    default:\n  }\n\n  return style;\n}\n\nexport function getEditHandleStyle({ feature, index, state }) {\n  const style = {\n    fill:\n      state === RENDER_STATE.INACTIVE\n        ? '#ffffff'\n        : state === RENDER_STATE.SELECTED || state === RENDER_STATE.CLOSING\n          ? '#ffff00'\n          : state === RENDER_STATE.HOVERED\n            ? '#7ac943'\n            : state === RENDER_STATE.UNCOMMITTED\n              ? '#a9a9a9'\n              : '#000000',\n    fillOpacity:\n      state === RENDER_STATE.INACTIVE\n        ? 1\n        : state === RENDER_STATE.HOVERED\n          ? 1\n          : state === RENDER_STATE.SELECTED || state === RENDER_STATE.CLOSING\n            ? 0.8\n            : state === RENDER_STATE.UNCOMMITTED\n              ? 0.3\n              : 1,\n    stroke:\n      state === RENDER_STATE.SELECTED ||\n      state === RENDER_STATE.HOVERED ||\n      state === RENDER_STATE.CLOSING\n        ? '#7ac943'\n        : '#000',\n    strokeWidth:\n      state === RENDER_STATE.SELECTED || state === RENDER_STATE.CLOSING\n        ? HIGHLIGHTED_STROKE_WIDTH\n        : DEFAULT_STROKE_WIDTH,\n    r: DEFAULT_RADIUS\n  };\n\n  const renderType = feature.properties ? feature.properties.renderType : feature.renderType;\n\n  switch (renderType) {\n    case RENDER_TYPE.POINT:\n      style.fill =\n        state === RENDER_STATE.INACTIVE\n          ? '#333333'\n          : state === RENDER_STATE.SELECTED\n            ? '#ffff00'\n            : state === RENDER_STATE.HOVERED\n              ? '#7ac943'\n              : state === RENDER_STATE.UNCOMMITTED\n                ? 'none'\n                : '#000000';\n      style.stroke =\n        state === RENDER_STATE.SELECTED\n          ? '#7ac943'\n          : state === RENDER_STATE.UNCOMMITTED\n            ? 'none'\n            : '#000';\n      break;\n    case RENDER_TYPE.LINE_STRING:\n    case RENDER_TYPE.POLYGON:\n    case RENDER_TYPE.RECTANGLE:\n      if (state === RENDER_STATE.CLOSING) {\n        Object.assign(style, CLOSING_RECT_STYLE);\n      } else {\n        Object.assign(style, RECT_STYLE);\n      }\n      break;\n    default:\n  }\n\n  return style;\n}\n"]},"metadata":{},"sourceType":"script"}