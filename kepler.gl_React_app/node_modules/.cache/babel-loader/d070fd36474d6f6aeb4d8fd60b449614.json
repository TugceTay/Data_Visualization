{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.CloudStorageDropdownFactory = exports.SaveExportDropdownFactory = exports.PanelHeaderDropdownFactory = exports.PanelAction = void 0;\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _taggedTemplateLiteral2 = _interopRequireDefault(require(\"@babel/runtime/helpers/taggedTemplateLiteral\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _styledComponents = _interopRequireDefault(require(\"styled-components\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _reselect = require(\"reselect\");\nvar _styledComponents2 = require(\"../common/styled-components\");\nvar _logo = _interopRequireDefault(require(\"../common/logo\"));\nvar _icons = require(\"../common/icons\");\nvar _panelDropdown = _interopRequireDefault(require(\"./panel-dropdown\"));\nvar _toolbar = _interopRequireDefault(require(\"../common/toolbar\"));\nvar _toolbarItem = _interopRequireDefault(require(\"../common/toolbar-item\"));\nvar _localization = require(\"../../localization\");\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4, _templateObject5;\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nvar StyledPanelHeader = _styledComponents[\"default\"].div.attrs({\n  className: 'side-side-panel__header'\n})(_templateObject || (_templateObject = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  background-color: \", \";\\n  padding: 12px 16px 0 16px;\\n\"])), function (props) {\n  return props.theme.sidePanelHeaderBg;\n});\nvar StyledPanelHeaderTop = _styledComponents[\"default\"].div.attrs({\n  className: 'side-panel__header__top'\n})(_templateObject2 || (_templateObject2 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 16px;\\n  width: 100%;\\n\"])));\nvar StyledPanelTopActions = _styledComponents[\"default\"].div.attrs({\n  className: 'side-panel__top__actions'\n})(_templateObject3 || (_templateObject3 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  display: flex;\\n\"])));\nvar StyledPanelAction = _styledComponents[\"default\"].div.attrs({\n  className: 'side-panel__panel-header__action'\n})(_templateObject4 || (_templateObject4 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  align-items: center;\\n  border-radius: 2px;\\n  color: \", \";\\n  display: flex;\\n  height: 26px;\\n  justify-content: space-between;\\n  margin-left: 4px;\\n  padding: 5px;\\n  font-weight: bold;\\n  p {\\n    display: inline-block;\\n    margin-right: 6px;\\n  }\\n  a {\\n    height: 20px;\\n  }\\n\\n  :hover {\\n    cursor: pointer;\\n    color: \", \";\\n\\n    a {\\n      color: \", \";\\n    }\\n  }\\n\"])), function (props) {\n  return props.active ? props.theme.textColorHl : props.theme.subtextColor;\n}, function (props) {\n  return props.theme.textColorHl;\n}, function (props) {\n  return props.theme.textColorHl;\n});\nvar StyledToolbar = (0, _styledComponents[\"default\"])(_toolbar[\"default\"])(_templateObject5 || (_templateObject5 = (0, _taggedTemplateLiteral2[\"default\"])([\"\\n  position: absolute;\\n\"])));\nvar PanelAction = function PanelAction(_ref) {\n  var item = _ref.item,\n    onClick = _ref.onClick;\n  return /*#__PURE__*/_react[\"default\"].createElement(StyledPanelAction, {\n    \"data-tip\": true,\n    \"data-for\": \"\".concat(item.id, \"-action\"),\n    onClick: onClick\n  }, item.label ? /*#__PURE__*/_react[\"default\"].createElement(\"p\", null, item.label) : null, /*#__PURE__*/_react[\"default\"].createElement(\"a\", {\n    target: item.blank ? '_blank' : '',\n    href: item.href,\n    rel: \"noreferrer\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(item.iconComponent, (0, _extends2[\"default\"])({\n    height: \"20px\"\n  }, item.iconComponentProps))), item.tooltip ? /*#__PURE__*/_react[\"default\"].createElement(_styledComponents2.Tooltip, {\n    id: \"\".concat(item.id, \"-action\"),\n    place: \"bottom\",\n    delayShow: 500,\n    effect: \"solid\"\n  }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n    id: item.tooltip\n  })) : null);\n};\nexports.PanelAction = PanelAction;\nvar PanelHeaderDropdownFactory = function PanelHeaderDropdownFactory() {\n  var PanelHeaderDropdown = function PanelHeaderDropdown(_ref2) {\n    var items = _ref2.items,\n      show = _ref2.show,\n      onClose = _ref2.onClose,\n      id = _ref2.id;\n    return /*#__PURE__*/_react[\"default\"].createElement(StyledToolbar, {\n      show: show,\n      className: \"\".concat(id, \"-dropdown\")\n    }, /*#__PURE__*/_react[\"default\"].createElement(_panelDropdown[\"default\"], {\n      className: \"panel-header-dropdown__inner\",\n      show: show,\n      onClose: onClose\n    }, items.map(function (item) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_toolbarItem[\"default\"], {\n        id: item.key,\n        key: item.key,\n        label: item.label,\n        icon: item.icon,\n        onClick: item.onClick,\n        onClose: onClose\n      });\n    })));\n  };\n  return PanelHeaderDropdown;\n};\nexports.PanelHeaderDropdownFactory = PanelHeaderDropdownFactory;\nvar getDropdownItemsSelector = function getDropdownItemsSelector() {\n  return (0, _reselect.createSelector)(function (props) {\n    return props;\n  }, function (props) {\n    return props.items.map(function (t) {\n      return _objectSpread(_objectSpread({}, t), {}, {\n        onClick: t.onClick && t.onClick(props) ? t.onClick(props) : null\n      });\n    }).filter(function (l) {\n      return l.onClick;\n    });\n  });\n};\nvar SaveExportDropdownFactory = function SaveExportDropdownFactory(PanelHeaderDropdown) {\n  var dropdownItemsSelector = getDropdownItemsSelector();\n  var SaveExportDropdown = function SaveExportDropdown(props) {\n    return /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderDropdown, {\n      items: dropdownItemsSelector(props),\n      show: props.show,\n      onClose: props.onClose,\n      id: \"save-export\"\n    });\n  };\n  SaveExportDropdown.defaultProps = {\n    items: [{\n      label: 'toolbar.exportImage',\n      icon: _icons.Picture,\n      key: 'image',\n      onClick: function onClick(props) {\n        return props.onExportImage;\n      }\n    }, {\n      label: 'toolbar.exportData',\n      icon: _icons.DataTable,\n      key: 'data',\n      onClick: function onClick(props) {\n        return props.onExportData;\n      }\n    }, {\n      label: 'toolbar.exportMap',\n      icon: _icons.Map,\n      key: 'map',\n      onClick: function onClick(props) {\n        return props.onExportMap;\n      }\n    }, {\n      label: 'toolbar.saveMap',\n      icon: _icons.Save2,\n      key: 'save',\n      onClick: function onClick(props) {\n        return props.onSaveMap;\n      }\n    }, {\n      label: 'toolbar.shareMapURL',\n      icon: _icons.Share,\n      key: 'share',\n      onClick: function onClick(props) {\n        return props.onShareMap;\n      }\n    }]\n  };\n  return SaveExportDropdown;\n};\nexports.SaveExportDropdownFactory = SaveExportDropdownFactory;\nSaveExportDropdownFactory.deps = [PanelHeaderDropdownFactory];\nvar CloudStorageDropdownFactory = function CloudStorageDropdownFactory(PanelHeaderDropdown) {\n  var dropdownItemsSelector = getDropdownItemsSelector();\n  var CloudStorageDropdown = function CloudStorageDropdown(props) {\n    return /*#__PURE__*/_react[\"default\"].createElement(PanelHeaderDropdown, {\n      items: dropdownItemsSelector(props),\n      show: props.show,\n      onClose: props.onClose,\n      id: \"cloud-storage\"\n    });\n  };\n  CloudStorageDropdown.defaultProps = {\n    items: [{\n      label: 'Save',\n      icon: _icons.Save2,\n      key: 'save',\n      onClick: function onClick(props) {\n        return props.onSaveToStorage;\n      }\n    }, {\n      label: 'Save As',\n      icon: _icons.Save2,\n      key: 'saveAs',\n      onClick: function onClick(props) {\n        return props.onSaveAsToStorage;\n      }\n    }]\n  };\n  return CloudStorageDropdown;\n};\nexports.CloudStorageDropdownFactory = CloudStorageDropdownFactory;\nCloudStorageDropdownFactory.deps = [PanelHeaderDropdownFactory];\nPanelHeaderFactory.deps = [SaveExportDropdownFactory, CloudStorageDropdownFactory];\nfunction PanelHeaderFactory(SaveExportDropdown, CloudStorageDropdown) {\n  var _class, _temp;\n  return _temp = _class = /*#__PURE__*/function (_Component) {\n    (0, _inherits2[\"default\"])(PanelHeader, _Component);\n    var _super = _createSuper(PanelHeader);\n    function PanelHeader() {\n      (0, _classCallCheck2[\"default\"])(this, PanelHeader);\n      return _super.apply(this, arguments);\n    }\n    (0, _createClass2[\"default\"])(PanelHeader, [{\n      key: \"render\",\n      value: function render() {\n        var _this = this;\n        var _this$props = this.props,\n          appName = _this$props.appName,\n          appWebsite = _this$props.appWebsite,\n          version = _this$props.version,\n          actionItems = _this$props.actionItems,\n          visibleDropdown = _this$props.visibleDropdown,\n          showExportDropdown = _this$props.showExportDropdown,\n          hideExportDropdown = _this$props.hideExportDropdown,\n          dropdownCallbacks = (0, _objectWithoutProperties2[\"default\"])(_this$props, [\"appName\", \"appWebsite\", \"version\", \"actionItems\", \"visibleDropdown\", \"showExportDropdown\", \"hideExportDropdown\"]);\n        var items = actionItems || []; // don't render cloud storage icon if onSaveToStorage is not provided\n\n        if (typeof this.props.onSaveToStorage !== 'function') {\n          items = actionItems.filter(function (ai) {\n            return ai.id !== 'storage';\n          });\n        }\n        return /*#__PURE__*/_react[\"default\"].createElement(StyledPanelHeader, {\n          className: \"side-panel__panel-header\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(StyledPanelHeaderTop, {\n          className: \"side-panel__panel-header__top\"\n        }, /*#__PURE__*/_react[\"default\"].createElement(this.props.logoComponent, {\n          appName: appName,\n          version: version,\n          appWebsite: appWebsite\n        }), /*#__PURE__*/_react[\"default\"].createElement(StyledPanelTopActions, null, items.map(function (item) {\n          return /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n            className: \"side-panel__panel-header__right\",\n            key: item.id,\n            style: {\n              position: 'relative'\n            }\n          }, /*#__PURE__*/_react[\"default\"].createElement(PanelAction, {\n            item: item,\n            onClick: function onClick() {\n              if (item.dropdownComponent) {\n                showExportDropdown(item.id);\n              } else {\n                item.onClick && item.onClick(_this.props);\n              }\n            }\n          }), item.dropdownComponent ? /*#__PURE__*/_react[\"default\"].createElement(item.dropdownComponent, (0, _extends2[\"default\"])({\n            onClose: hideExportDropdown,\n            show: visibleDropdown === item.id\n          }, dropdownCallbacks)) : null);\n        }))));\n      }\n    }]);\n    return PanelHeader;\n  }(_react.Component), (0, _defineProperty2[\"default\"])(_class, \"propTypes\", {\n    appName: _propTypes[\"default\"].string,\n    appWebsite: _propTypes[\"default\"].string,\n    version: _propTypes[\"default\"].string,\n    visibleDropdown: _propTypes[\"default\"].string,\n    logoComponent: _propTypes[\"default\"].oneOfType([_propTypes[\"default\"].element, _propTypes[\"default\"].func]),\n    actionItems: _propTypes[\"default\"].arrayOf(_propTypes[\"default\"].any),\n    onExportImage: _propTypes[\"default\"].func,\n    onExportData: _propTypes[\"default\"].func,\n    onExportConfig: _propTypes[\"default\"].func,\n    onExportMap: _propTypes[\"default\"].func,\n    onSaveToStorage: _propTypes[\"default\"].func,\n    onSaveAsToStorage: _propTypes[\"default\"].func,\n    onSaveMap: _propTypes[\"default\"].func,\n    onShareMap: _propTypes[\"default\"].func\n  }), (0, _defineProperty2[\"default\"])(_class, \"defaultProps\", {\n    logoComponent: _logo[\"default\"],\n    actionItems: [{\n      id: 'storage',\n      iconComponent: _icons.Db,\n      tooltip: 'tooltip.cloudStorage',\n      onClick: function onClick() {},\n      dropdownComponent: CloudStorageDropdown\n    }, {\n      id: 'save',\n      iconComponent: _icons.Save,\n      onClick: function onClick() {},\n      label: 'Share',\n      dropdownComponent: SaveExportDropdown\n    }]\n  }), _temp;\n}\nvar _default = PanelHeaderFactory;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../../../src/components/side-panel/panel-header.js"],"names":["StyledPanelHeader","div","attrs","className","props","theme","sidePanelHeaderBg","StyledPanelHeaderTop","StyledPanelTopActions","StyledPanelAction","active","textColorHl","subtextColor","StyledToolbar","Toolbar","PanelAction","item","onClick","id","label","blank","href","iconComponentProps","tooltip","PanelHeaderDropdownFactory","PanelHeaderDropdown","items","show","onClose","map","key","icon","getDropdownItemsSelector","t","filter","l","SaveExportDropdownFactory","dropdownItemsSelector","SaveExportDropdown","defaultProps","Picture","onExportImage","DataTable","onExportData","MapIcon","onExportMap","Save2","onSaveMap","Share","onShareMap","deps","CloudStorageDropdownFactory","CloudStorageDropdown","onSaveToStorage","onSaveAsToStorage","PanelHeaderFactory","Component","appName","PropTypes","string","appWebsite","version","visibleDropdown","logoComponent","oneOfType","element","func","actionItems","arrayOf","any","onExportConfig","KeplerGlLogo","iconComponent","Db","dropdownComponent","Save","showExportDropdown","hideExportDropdown","dropdownCallbacks","ai","position"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React, {Component} from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport {createSelector} from 'reselect';\nimport {Tooltip} from 'components/common/styled-components';\nimport KeplerGlLogo from 'components/common/logo';\nimport {Save, DataTable, Save2, Picture, Db, Map as MapIcon, Share} from 'components/common/icons';\nimport ClickOutsideCloseDropdown from 'components/side-panel/panel-dropdown';\nimport Toolbar from 'components/common/toolbar';\nimport ToolbarItem from 'components/common/toolbar-item';\nimport {FormattedMessage} from 'localization';\n\nconst StyledPanelHeader = styled.div.attrs({\n  className: 'side-side-panel__header'\n})`\n  background-color: ${props => props.theme.sidePanelHeaderBg};\n  padding: 12px 16px 0 16px;\n`;\n\nconst StyledPanelHeaderTop = styled.div.attrs({\n  className: 'side-panel__header__top'\n})`\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 16px;\n  width: 100%;\n`;\n\nconst StyledPanelTopActions = styled.div.attrs({\n  className: 'side-panel__top__actions'\n})`\n  display: flex;\n`;\n\nconst StyledPanelAction = styled.div.attrs({\n  className: 'side-panel__panel-header__action'\n})`\n  align-items: center;\n  border-radius: 2px;\n  color: ${props => (props.active ? props.theme.textColorHl : props.theme.subtextColor)};\n  display: flex;\n  height: 26px;\n  justify-content: space-between;\n  margin-left: 4px;\n  padding: 5px;\n  font-weight: bold;\n  p {\n    display: inline-block;\n    margin-right: 6px;\n  }\n  a {\n    height: 20px;\n  }\n\n  :hover {\n    cursor: pointer;\n    color: ${props => props.theme.textColorHl};\n\n    a {\n      color: ${props => props.theme.textColorHl};\n    }\n  }\n`;\n\nconst StyledToolbar = styled(Toolbar)`\n  position: absolute;\n`;\n\nexport const PanelAction = ({item, onClick}) => (\n  <StyledPanelAction data-tip data-for={`${item.id}-action`} onClick={onClick}>\n    {item.label ? <p>{item.label}</p> : null}\n    <a target={item.blank ? '_blank' : ''} href={item.href} rel=\"noreferrer\">\n      <item.iconComponent height=\"20px\" {...item.iconComponentProps} />\n    </a>\n    {item.tooltip ? (\n      <Tooltip id={`${item.id}-action`} place=\"bottom\" delayShow={500} effect=\"solid\">\n        <FormattedMessage id={item.tooltip} />\n      </Tooltip>\n    ) : null}\n  </StyledPanelAction>\n);\n\nexport const PanelHeaderDropdownFactory = () => {\n  const PanelHeaderDropdown = ({items, show, onClose, id}) => {\n    return (\n      <StyledToolbar show={show} className={`${id}-dropdown`}>\n        <ClickOutsideCloseDropdown\n          className=\"panel-header-dropdown__inner\"\n          show={show}\n          onClose={onClose}\n        >\n          {items.map(item => (\n            <ToolbarItem\n              id={item.key}\n              key={item.key}\n              label={item.label}\n              icon={item.icon}\n              onClick={item.onClick}\n              onClose={onClose}\n            />\n          ))}\n        </ClickOutsideCloseDropdown>\n      </StyledToolbar>\n    );\n  };\n\n  return PanelHeaderDropdown;\n};\n\nconst getDropdownItemsSelector = () =>\n  createSelector(\n    props => props,\n    props =>\n      props.items\n        .map(t => ({\n          ...t,\n          onClick: t.onClick && t.onClick(props) ? t.onClick(props) : null\n        }))\n        .filter(l => l.onClick)\n  );\n\nexport const SaveExportDropdownFactory = PanelHeaderDropdown => {\n  const dropdownItemsSelector = getDropdownItemsSelector();\n\n  const SaveExportDropdown = props => (\n    <PanelHeaderDropdown\n      items={dropdownItemsSelector(props)}\n      show={props.show}\n      onClose={props.onClose}\n      id=\"save-export\"\n    />\n  );\n\n  SaveExportDropdown.defaultProps = {\n    items: [\n      {\n        label: 'toolbar.exportImage',\n        icon: Picture,\n        key: 'image',\n        onClick: props => props.onExportImage\n      },\n      {\n        label: 'toolbar.exportData',\n        icon: DataTable,\n        key: 'data',\n        onClick: props => props.onExportData\n      },\n      {\n        label: 'toolbar.exportMap',\n        icon: MapIcon,\n        key: 'map',\n        onClick: props => props.onExportMap\n      },\n      {\n        label: 'toolbar.saveMap',\n        icon: Save2,\n        key: 'save',\n        onClick: props => props.onSaveMap\n      },\n      {\n        label: 'toolbar.shareMapURL',\n        icon: Share,\n        key: 'share',\n        onClick: props => props.onShareMap\n      }\n    ]\n  };\n\n  return SaveExportDropdown;\n};\nSaveExportDropdownFactory.deps = [PanelHeaderDropdownFactory];\n\nexport const CloudStorageDropdownFactory = PanelHeaderDropdown => {\n  const dropdownItemsSelector = getDropdownItemsSelector();\n\n  const CloudStorageDropdown = props => (\n    <PanelHeaderDropdown\n      items={dropdownItemsSelector(props)}\n      show={props.show}\n      onClose={props.onClose}\n      id=\"cloud-storage\"\n    />\n  );\n  CloudStorageDropdown.defaultProps = {\n    items: [\n      {\n        label: 'Save',\n        icon: Save2,\n        key: 'save',\n        onClick: props => props.onSaveToStorage\n      },\n      {\n        label: 'Save As',\n        icon: Save2,\n        key: 'saveAs',\n        onClick: props => props.onSaveAsToStorage\n      }\n    ]\n  };\n  return CloudStorageDropdown;\n};\nCloudStorageDropdownFactory.deps = [PanelHeaderDropdownFactory];\n\nPanelHeaderFactory.deps = [SaveExportDropdownFactory, CloudStorageDropdownFactory];\n\nfunction PanelHeaderFactory(SaveExportDropdown, CloudStorageDropdown) {\n  return class PanelHeader extends Component {\n    static propTypes = {\n      appName: PropTypes.string,\n      appWebsite: PropTypes.string,\n      version: PropTypes.string,\n      visibleDropdown: PropTypes.string,\n      logoComponent: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n      actionItems: PropTypes.arrayOf(PropTypes.any),\n      onExportImage: PropTypes.func,\n      onExportData: PropTypes.func,\n      onExportConfig: PropTypes.func,\n      onExportMap: PropTypes.func,\n      onSaveToStorage: PropTypes.func,\n      onSaveAsToStorage: PropTypes.func,\n      onSaveMap: PropTypes.func,\n      onShareMap: PropTypes.func\n    };\n\n    static defaultProps = {\n      logoComponent: KeplerGlLogo,\n      actionItems: [\n        {\n          id: 'storage',\n          iconComponent: Db,\n          tooltip: 'tooltip.cloudStorage',\n          onClick: () => {},\n          dropdownComponent: CloudStorageDropdown\n        },\n        {\n          id: 'save',\n          iconComponent: Save,\n          onClick: () => {},\n          label: 'Share',\n          dropdownComponent: SaveExportDropdown\n        }\n      ]\n    };\n\n    render() {\n      const {\n        appName,\n        appWebsite,\n        version,\n        actionItems,\n        visibleDropdown,\n        showExportDropdown,\n        hideExportDropdown,\n        ...dropdownCallbacks\n      } = this.props;\n      let items = actionItems || [];\n\n      // don't render cloud storage icon if onSaveToStorage is not provided\n      if (typeof this.props.onSaveToStorage !== 'function') {\n        items = actionItems.filter(ai => ai.id !== 'storage');\n      }\n\n      return (\n        <StyledPanelHeader className=\"side-panel__panel-header\">\n          <StyledPanelHeaderTop className=\"side-panel__panel-header__top\">\n            <this.props.logoComponent appName={appName} version={version} appWebsite={appWebsite} />\n            <StyledPanelTopActions>\n              {items.map(item => (\n                <div\n                  className=\"side-panel__panel-header__right\"\n                  key={item.id}\n                  style={{position: 'relative'}}\n                >\n                  <PanelAction\n                    item={item}\n                    onClick={() => {\n                      if (item.dropdownComponent) {\n                        showExportDropdown(item.id);\n                      } else {\n                        item.onClick && item.onClick(this.props);\n                      }\n                    }}\n                  />\n                  {item.dropdownComponent ? (\n                    <item.dropdownComponent\n                      onClose={hideExportDropdown}\n                      show={visibleDropdown === item.id}\n                      {...dropdownCallbacks}\n                    />\n                  ) : null}\n                </div>\n              ))}\n            </StyledPanelTopActions>\n          </StyledPanelHeaderTop>\n        </StyledPanelHeader>\n      );\n    }\n  };\n}\n\nexport default PanelHeaderFactory;\n"]},"metadata":{},"sourceType":"script"}