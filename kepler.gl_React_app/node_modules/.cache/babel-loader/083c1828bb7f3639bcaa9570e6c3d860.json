{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\nvar _react = _interopRequireDefault(require(\"react\"));\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\nvar _icons = require(\"../../common/icons\");\nvar _styledComponents = require(\"../../common/styled-components\");\nvar _defaultSettings = require(\"../../../constants/default-settings\");\nvar _components = require(\"./components\");\nvar _exportHtmlMap = _interopRequireDefault(require(\"./export-html-map\"));\nvar _exportJsonMap = _interopRequireDefault(require(\"./export-json-map\"));\nvar _localization = require(\"../../../localization\");\n\n// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nvar propTypes = {\n  options: _propTypes[\"default\"].object,\n  onEditUserMapboxAccessToken: _propTypes[\"default\"].func.isRequired,\n  onChangeExportData: _propTypes[\"default\"].func,\n  onChangeExportMapType: _propTypes[\"default\"].func,\n  mapFormat: _propTypes[\"default\"].string\n};\nvar style = {\n  width: '100%'\n};\nvar NO_OP = function NO_OP() {};\nExportMapModalFactory.deps = [_exportHtmlMap[\"default\"], _exportJsonMap[\"default\"]];\nfunction ExportMapModalFactory(ExportHtmlMap, ExportJsonMap) {\n  var ExportMapModalUnmemoized = function ExportMapModalUnmemoized(_ref) {\n    var _EXPORT_MAP_FORMATS$H;\n    var _ref$config = _ref.config,\n      config = _ref$config === void 0 ? {} : _ref$config,\n      _ref$onChangeExportDa = _ref.onChangeExportData,\n      onChangeExportData = _ref$onChangeExportDa === void 0 ? NO_OP : _ref$onChangeExportDa,\n      _ref$onChangeExportMa = _ref.onChangeExportMapFormat,\n      onChangeExportMapFormat = _ref$onChangeExportMa === void 0 ? function (format) {} : _ref$onChangeExportMa,\n      _ref$onChangeExportMa2 = _ref.onChangeExportMapHTMLMode,\n      onChangeExportMapHTMLMode = _ref$onChangeExportMa2 === void 0 ? NO_OP : _ref$onChangeExportMa2,\n      _ref$onEditUserMapbox = _ref.onEditUserMapboxAccessToken,\n      onEditUserMapboxAccessToken = _ref$onEditUserMapbox === void 0 ? NO_OP : _ref$onEditUserMapbox,\n      _ref$options = _ref.options,\n      options = _ref$options === void 0 ? {\n        format: ''\n      } : _ref$options;\n    return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents.StyledModalContent, {\n      className: \"export-map-modal\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      style: style\n    }, /*#__PURE__*/_react[\"default\"].createElement(_components.StyledExportMapSection, null, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"description\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"title\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: 'modal.exportMap.formatTitle'\n    })), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"subtitle\"\n    }, /*#__PURE__*/_react[\"default\"].createElement(_localization.FormattedMessage, {\n      id: 'modal.exportMap.formatSubtitle'\n    }))), /*#__PURE__*/_react[\"default\"].createElement(\"div\", {\n      className: \"selection\"\n    }, _defaultSettings.EXPORT_MAP_FORMAT_OPTIONS.map(function (op) {\n      return /*#__PURE__*/_react[\"default\"].createElement(_styledComponents.StyledType, {\n        key: op.id,\n        selected: options.format === op.id,\n        available: op.available,\n        onClick: function onClick() {\n          return op.available && onChangeExportMapFormat(op.id);\n        }\n      }, /*#__PURE__*/_react[\"default\"].createElement(_icons.FileType, {\n        ext: op.label,\n        height: \"80px\",\n        fontSize: \"11px\"\n      }), options.format === op.id && /*#__PURE__*/_react[\"default\"].createElement(_styledComponents.CheckMark, null));\n    }))), (_EXPORT_MAP_FORMATS$H = {}, (0, _defineProperty2[\"default\"])(_EXPORT_MAP_FORMATS$H, _defaultSettings.EXPORT_MAP_FORMATS.HTML, /*#__PURE__*/_react[\"default\"].createElement(ExportHtmlMap, {\n      onChangeExportMapHTMLMode: onChangeExportMapHTMLMode,\n      onEditUserMapboxAccessToken: onEditUserMapboxAccessToken,\n      options: options[options.format]\n    })), (0, _defineProperty2[\"default\"])(_EXPORT_MAP_FORMATS$H, _defaultSettings.EXPORT_MAP_FORMATS.JSON, /*#__PURE__*/_react[\"default\"].createElement(ExportJsonMap, {\n      config: config,\n      onChangeExportData: onChangeExportData,\n      options: options[options.format]\n    })), _EXPORT_MAP_FORMATS$H)[\n    // @ts-ignore\n    options.format]));\n  };\n  ExportMapModalUnmemoized.propTypes = propTypes;\n  ExportMapModalUnmemoized.displayName = 'ExportMapModal';\n  var ExportMapModal = /*#__PURE__*/_react[\"default\"].memo(ExportMapModalUnmemoized);\n  return ExportMapModal;\n}\nvar _default = ExportMapModalFactory;\nexports[\"default\"] = _default;","map":{"version":3,"sources":["../../../../src/components/modals/export-map-modal/export-map-modal.js"],"names":["propTypes","options","PropTypes","object","onEditUserMapboxAccessToken","func","isRequired","onChangeExportData","onChangeExportMapType","mapFormat","string","style","width","NO_OP","ExportMapModalFactory","deps","ExportHtmlMapFactory","ExportJsonMapFactory","ExportHtmlMap","ExportJsonMap","ExportMapModalUnmemoized","config","onChangeExportMapFormat","onChangeExportMapHTMLMode","format","map","op","id","available","label","EXPORT_MAP_FORMATS","HTML","JSON","displayName","ExportMapModal","React","memo"],"mappings":"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","sourcesContent":["// Copyright (c) 2021 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {FileType} from 'components/common/icons';\nimport {StyledModalContent, StyledType, CheckMark} from 'components/common/styled-components';\nimport {EXPORT_MAP_FORMATS, EXPORT_MAP_FORMAT_OPTIONS} from 'constants/default-settings';\nimport {StyledExportMapSection} from './components';\nimport ExportHtmlMapFactory from './export-html-map';\nimport ExportJsonMapFactory from './export-json-map';\nimport {FormattedMessage} from 'localization';\n\nconst propTypes = {\n  options: PropTypes.object,\n  onEditUserMapboxAccessToken: PropTypes.func.isRequired,\n  onChangeExportData: PropTypes.func,\n  onChangeExportMapType: PropTypes.func,\n  mapFormat: PropTypes.string\n};\n\nconst style = {width: '100%'};\n\nconst NO_OP = () => {};\n\nExportMapModalFactory.deps = [ExportHtmlMapFactory, ExportJsonMapFactory];\n\nfunction ExportMapModalFactory(ExportHtmlMap, ExportJsonMap) {\n  const ExportMapModalUnmemoized = ({\n    config = {},\n    onChangeExportData = NO_OP,\n    onChangeExportMapFormat = format => {},\n    onChangeExportMapHTMLMode = NO_OP,\n    onEditUserMapboxAccessToken = NO_OP,\n    options = {format: ''}\n  }) => (\n    <StyledModalContent className=\"export-map-modal\">\n      <div style={style}>\n        <StyledExportMapSection>\n          <div className=\"description\">\n            <div className=\"title\">\n              <FormattedMessage id={'modal.exportMap.formatTitle'} />\n            </div>\n            <div className=\"subtitle\">\n              <FormattedMessage id={'modal.exportMap.formatSubtitle'} />\n            </div>\n          </div>\n          <div className=\"selection\">\n            {EXPORT_MAP_FORMAT_OPTIONS.map(op => (\n              <StyledType\n                key={op.id}\n                selected={options.format === op.id}\n                available={op.available}\n                onClick={() => op.available && onChangeExportMapFormat(op.id)}\n              >\n                <FileType ext={op.label} height=\"80px\" fontSize=\"11px\" />\n\n                {options.format === op.id && <CheckMark />}\n              </StyledType>\n            ))}\n          </div>\n        </StyledExportMapSection>\n        {\n          {\n            [EXPORT_MAP_FORMATS.HTML]: (\n              <ExportHtmlMap\n                onChangeExportMapHTMLMode={onChangeExportMapHTMLMode}\n                onEditUserMapboxAccessToken={onEditUserMapboxAccessToken}\n                options={options[options.format]}\n              />\n            ),\n            [EXPORT_MAP_FORMATS.JSON]: (\n              <ExportJsonMap\n                config={config}\n                onChangeExportData={onChangeExportData}\n                options={options[options.format]}\n              />\n            )\n          }[\n            // @ts-ignore\n            options.format\n          ]\n        }\n      </div>\n    </StyledModalContent>\n  );\n\n  ExportMapModalUnmemoized.propTypes = propTypes;\n  ExportMapModalUnmemoized.displayName = 'ExportMapModal';\n\n  const ExportMapModal = React.memo(ExportMapModalUnmemoized);\n\n  return ExportMapModal;\n}\n\nexport default ExportMapModalFactory;\n"]},"metadata":{},"sourceType":"script"}